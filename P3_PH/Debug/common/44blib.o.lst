   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 18, 4
  11              		.file	"44blib.c"
  21              	.Ltext0:
  22              		.file 1 "../common/44blib.c"
 3126              		.align	2
 3128              	Delay.clone.0:
 3129              	.LFB13:
   1:../common/44blib.c **** #include "44b.h"
   2:../common/44blib.c **** #include "44blib.h"
   3:../common/44blib.c **** #include "def.h"
   4:../common/44blib.c **** #include "option.h"
   5:../common/44blib.c **** 
   6:../common/44blib.c **** #include <stdarg.h>
   7:../common/44blib.c **** #include <string.h>
   8:../common/44blib.c **** #include <stdio.h>
   9:../common/44blib.c **** #include <ctype.h>
  10:../common/44blib.c **** 
  11:../common/44blib.c **** #define STACKSIZE    0xa00 //SVC satck size(do not use user stack)//
  12:../common/44blib.c **** #define HEAPEND     (_ISR_STARTADDRESS-STACKSIZE-0x500) // = 0xc7ff000//
  13:../common/44blib.c **** //SVC Stack Area:0xc(e)7ff000-0xc(e)7ffaff//
  14:../common/44blib.c **** 
  15:../common/44blib.c **** extern char Image_RW_Limit[];
  16:../common/44blib.c **** volatile unsigned char *downPt;
  17:../common/44blib.c **** unsigned int fileSize;
  18:../common/44blib.c **** void *mallocPt=Image_RW_Limit;
  19:../common/44blib.c **** 
  20:../common/44blib.c **** void (*restart)(void)=(void (*)(void))0x0;
  21:../common/44blib.c **** void (*run)(void)=(void (*)(void))DOWNLOAD_ADDRESS;
  22:../common/44blib.c **** 
  23:../common/44blib.c **** //--------------------------------SYSTEM---------------------------------//
  24:../common/44blib.c **** static int delayLoopCount=400;
  25:../common/44blib.c **** 
  26:../common/44blib.c **** void __attribute__ ((optimize("O0"))) Delay(int time)
 3130              		.loc 1 26 0
 3131              		.cfi_startproc
 3132              		@ Function supports interworking.
 3133              		@ args = 0, pretend = 0, frame = 16
 3134              		@ frame_needed = 1, uses_anonymous_args = 0
 3135 0000 0DC0A0E1 		mov	ip, sp
 3136              	.LCFI0:
 3137              		.cfi_def_cfa_register 12
 3138 0004 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3139 0008 04B04CE2 		sub	fp, ip, #4
 3140              		.cfi_offset 14, -8
 3141              		.cfi_offset 13, -12
 3142              		.cfi_offset 11, -16
 3143              	.LCFI1:
 3144              		.cfi_def_cfa 11, 4
 3145 000c 10D04DE2 		sub	sp, sp, #16
 3146              		.loc 1 26 0
 3147 0010 0030A0E3 		mov	r3, #0
 3148 0014 10300BE5 		str	r3, [fp, #-16]
 3149              	.LVL0:
  27:../common/44blib.c **** // time=0: adjust the Delay function by WatchDog timer
  28:../common/44blib.c **** // time>0: the number of loop time
  29:../common/44blib.c **** // 100us resolution
  30:../common/44blib.c **** // Delay(10) -> 10*100us resolution
  31:../common/44blib.c **** {
  32:../common/44blib.c **** 	volatile int i,adjust=0;
 3150              		.loc 1 32 0
 3151 0018 0030A0E3 		mov	r3, #0
 3152 001c 18300BE5 		str	r3, [fp, #-24]
 3153              	.LVL1:
  33:../common/44blib.c **** 	if(time==0)
 3154              		.loc 1 33 0
 3155 0020 10301BE5 		ldr	r3, [fp, #-16]
 3156 0024 000053E3 		cmp	r3, #0
 3157 0028 2200001A 		bne	.L8
  34:../common/44blib.c **** 	{
  35:../common/44blib.c **** 		time=200;
 3158              		.loc 1 35 0
 3159 002c C830A0E3 		mov	r3, #200
 3160              	.LVL2:
 3161 0030 10300BE5 		str	r3, [fp, #-16]
 3162              	.LVL3:
  36:../common/44blib.c **** 		adjust=1;
 3163              		.loc 1 36 0
 3164 0034 0130A0E3 		mov	r3, #1
 3165              	.LVL4:
 3166 0038 18300BE5 		str	r3, [fp, #-24]
  37:../common/44blib.c **** 		delayLoopCount=400;
 3167              		.loc 1 37 0
 3168 003c E0309FE5 		ldr	r3, .L9
 3169 0040 192EA0E3 		mov	r2, #400
 3170 0044 002083E5 		str	r2, [r3, #0]
  38:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3);	// 1M/64,Watch-dog,nRESET,interrupt disable//
 3171              		.loc 1 38 0
 3172 0048 D8309FE5 		ldr	r3, .L9+4
 3173 004c D8209FE5 		ldr	r2, .L9+8
 3174 0050 002083E5 		str	r2, [r3, #0]
  39:../common/44blib.c **** 		rWTDAT=0xffff;
 3175              		.loc 1 39 0
 3176 0054 D4309FE5 		ldr	r3, .L9+12
 3177 0058 D4209FE5 		ldr	r2, .L9+16
 3178 005c 002083E5 		str	r2, [r3, #0]
  40:../common/44blib.c **** 		rWTCNT=0xffff;	 
 3179              		.loc 1 40 0
 3180 0060 D0309FE5 		ldr	r3, .L9+20
 3181 0064 C8209FE5 		ldr	r2, .L9+16
 3182 0068 002083E5 		str	r2, [r3, #0]
  41:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3)|(1<<5); // 1M/64,Watch-dog enable,nRESET,interrupt disable //
 3183              		.loc 1 41 0
 3184 006c B4309FE5 		ldr	r3, .L9+4
 3185 0070 C4209FE5 		ldr	r2, .L9+24
 3186 0074 002083E5 		str	r2, [r3, #0]
 3187 0078 0F0000EA 		b	.L3
 3188              	.LVL5:
 3189              	.L6:
  42:../common/44blib.c **** 	}
  43:../common/44blib.c **** 	for(;time>0;time--)
  44:../common/44blib.c **** 		for(i=0;i<delayLoopCount;i++);
 3190              		.loc 1 44 0
 3191 007c 0030A0E3 		mov	r3, #0
 3192              	.LVL6:
 3193 0080 14300BE5 		str	r3, [fp, #-20]
 3194 0084 020000EA 		b	.L4
 3195              	.L5:
 3196 0088 14301BE5 		ldr	r3, [fp, #-20]
 3197 008c 013083E2 		add	r3, r3, #1
 3198 0090 14300BE5 		str	r3, [fp, #-20]
 3199              	.L4:
 3200 0094 14201BE5 		ldr	r2, [fp, #-20]
 3201 0098 84309FE5 		ldr	r3, .L9
 3202 009c 003093E5 		ldr	r3, [r3, #0]
 3203 00a0 030052E1 		cmp	r2, r3
 3204 00a4 F7FFFFBA 		blt	.L5
  43:../common/44blib.c **** 	for(;time>0;time--)
 3205              		.loc 1 43 0
 3206 00a8 10301BE5 		ldr	r3, [fp, #-16]
 3207 00ac 013043E2 		sub	r3, r3, #1
 3208 00b0 10300BE5 		str	r3, [fp, #-16]
 3209              	.LVL7:
 3210 00b4 000000EA 		b	.L3
 3211              	.LVL8:
 3212              	.L8:
  41:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3)|(1<<5); // 1M/64,Watch-dog enable,nRESET,interrupt disable //
 3213              		.loc 1 41 0
 3214 00b8 0000A0E1 		mov	r0, r0	@ nop
 3215              	.LVL9:
 3216              	.L3:
  43:../common/44blib.c **** 	for(;time>0;time--)
 3217              		.loc 1 43 0
 3218 00bc 10301BE5 		ldr	r3, [fp, #-16]
 3219 00c0 000053E3 		cmp	r3, #0
 3220 00c4 ECFFFFCA 		bgt	.L6
  45:../common/44blib.c **** 	if(adjust==1)
 3221              		.loc 1 45 0
 3222 00c8 18301BE5 		ldr	r3, [fp, #-24]
 3223 00cc 010053E3 		cmp	r3, #1
 3224 00d0 1000001A 		bne	.L1
  46:../common/44blib.c **** 	{
  47:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3);
 3225              		.loc 1 47 0
 3226 00d4 4C309FE5 		ldr	r3, .L9+4
 3227 00d8 4C209FE5 		ldr	r2, .L9+8
 3228 00dc 002083E5 		str	r2, [r3, #0]
  48:../common/44blib.c **** 		i=0xffff-rWTCNT;   //  1count/16us?????????//
 3229              		.loc 1 48 0
 3230 00e0 50309FE5 		ldr	r3, .L9+20
 3231 00e4 003093E5 		ldr	r3, [r3, #0]
 3232 00e8 FF3C63E2 		rsb	r3, r3, #65280
 3233 00ec FF3083E2 		add	r3, r3, #255
 3234 00f0 14300BE5 		str	r3, [fp, #-20]
  49:../common/44blib.c **** 		delayLoopCount=8000000/(i*64);	//400*100/(i*64/200)   //
 3235              		.loc 1 49 0
 3236 00f4 14301BE5 		ldr	r3, [fp, #-20]
 3237 00f8 0333A0E1 		mov	r3, r3, asl #6
 3238 00fc 3C009FE5 		ldr	r0, .L9+28
 3239 0100 0310A0E1 		mov	r1, r3
 3240 0104 FEFFFFEB 		bl	__aeabi_idiv
 3241 0108 0030A0E1 		mov	r3, r0
 3242 010c 0320A0E1 		mov	r2, r3
 3243 0110 0C309FE5 		ldr	r3, .L9
 3244 0114 002083E5 		str	r2, [r3, #0]
 3245              	.L1:
  50:../common/44blib.c **** 	}
  51:../common/44blib.c **** }
 3246              		.loc 1 51 0
 3247 0118 0CD04BE2 		sub	sp, fp, #12
 3248 011c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3249 0120 1EFF2FE1 		bx	lr
 3250              	.L10:
 3251              		.align	2
 3252              	.L9:
 3253 0124 00000000 		.word	delayLoopCount
 3254 0128 0000D301 		.word	30605312
 3255 012c 103F0000 		.word	16144
 3256 0130 0400D301 		.word	30605316
 3257 0134 FFFF0000 		.word	65535
 3258 0138 0800D301 		.word	30605320
 3259 013c 303F0000 		.word	16176
 3260 0140 00127A00 		.word	8000000
 3261              		.cfi_endproc
 3262              	.LFE13:
 3264              		.align	2
 3265              		.global	Delay
 3267              	Delay:
 3268              	.LFB0:
  31:../common/44blib.c **** {
 3269              		.loc 1 31 0
 3270              		.cfi_startproc
 3271              		@ Function supports interworking.
 3272              		@ args = 0, pretend = 0, frame = 16
 3273              		@ frame_needed = 1, uses_anonymous_args = 0
 3274              	.LVL10:
 3275 0144 0DC0A0E1 		mov	ip, sp
 3276              	.LCFI2:
 3277              		.cfi_def_cfa_register 12
 3278 0148 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 3279 014c 04B04CE2 		sub	fp, ip, #4
 3280              		.cfi_offset 14, -8
 3281              		.cfi_offset 13, -12
 3282              		.cfi_offset 11, -16
 3283              	.LCFI3:
 3284              		.cfi_def_cfa 11, 4
 3285 0150 10D04DE2 		sub	sp, sp, #16
 3286 0154 18000BE5 		str	r0, [fp, #-24]
  32:../common/44blib.c **** 	volatile int i,adjust=0;
 3287              		.loc 1 32 0
 3288 0158 0030A0E3 		mov	r3, #0
 3289 015c 14300BE5 		str	r3, [fp, #-20]
 3290              	.LVL11:
  33:../common/44blib.c **** 	if(time==0)
 3291              		.loc 1 33 0
 3292 0160 18301BE5 		ldr	r3, [fp, #-24]
 3293 0164 000053E3 		cmp	r3, #0
 3294 0168 2200001A 		bne	.L18
  35:../common/44blib.c **** 		time=200;
 3295              		.loc 1 35 0
 3296 016c C830A0E3 		mov	r3, #200
 3297 0170 18300BE5 		str	r3, [fp, #-24]
 3298              	.LVL12:
  36:../common/44blib.c **** 		adjust=1;
 3299              		.loc 1 36 0
 3300 0174 0130A0E3 		mov	r3, #1
 3301              	.LVL13:
 3302 0178 14300BE5 		str	r3, [fp, #-20]
  37:../common/44blib.c **** 		delayLoopCount=400;
 3303              		.loc 1 37 0
 3304 017c E0309FE5 		ldr	r3, .L19
 3305 0180 192EA0E3 		mov	r2, #400
 3306 0184 002083E5 		str	r2, [r3, #0]
  38:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3);	// 1M/64,Watch-dog,nRESET,interrupt disable//
 3307              		.loc 1 38 0
 3308 0188 D8309FE5 		ldr	r3, .L19+4
 3309 018c D8209FE5 		ldr	r2, .L19+8
 3310 0190 002083E5 		str	r2, [r3, #0]
  39:../common/44blib.c **** 		rWTDAT=0xffff;
 3311              		.loc 1 39 0
 3312 0194 D4309FE5 		ldr	r3, .L19+12
 3313 0198 D4209FE5 		ldr	r2, .L19+16
 3314 019c 002083E5 		str	r2, [r3, #0]
  40:../common/44blib.c **** 		rWTCNT=0xffff;	 
 3315              		.loc 1 40 0
 3316 01a0 D0309FE5 		ldr	r3, .L19+20
 3317 01a4 C8209FE5 		ldr	r2, .L19+16
 3318 01a8 002083E5 		str	r2, [r3, #0]
  41:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3)|(1<<5); // 1M/64,Watch-dog enable,nRESET,interrupt disable //
 3319              		.loc 1 41 0
 3320 01ac B4309FE5 		ldr	r3, .L19+4
 3321 01b0 C4209FE5 		ldr	r2, .L19+24
 3322 01b4 002083E5 		str	r2, [r3, #0]
  43:../common/44blib.c **** 	for(;time>0;time--)
 3323              		.loc 1 43 0
 3324 01b8 0F0000EA 		b	.L13
 3325              	.LVL14:
 3326              	.L16:
  44:../common/44blib.c **** 		for(i=0;i<delayLoopCount;i++);
 3327              		.loc 1 44 0
 3328 01bc 0030A0E3 		mov	r3, #0
 3329              	.LVL15:
 3330 01c0 10300BE5 		str	r3, [fp, #-16]
 3331 01c4 020000EA 		b	.L14
 3332              	.L15:
  44:../common/44blib.c **** 		for(i=0;i<delayLoopCount;i++);
 3333              		.loc 1 44 0 is_stmt 0 discriminator 2
 3334 01c8 10301BE5 		ldr	r3, [fp, #-16]
 3335 01cc 013083E2 		add	r3, r3, #1
 3336              	.LVL16:
 3337 01d0 10300BE5 		str	r3, [fp, #-16]
 3338              	.LVL17:
 3339              	.L14:
  44:../common/44blib.c **** 		for(i=0;i<delayLoopCount;i++);
 3340              		.loc 1 44 0 discriminator 1
 3341 01d4 10201BE5 		ldr	r2, [fp, #-16]
 3342 01d8 84309FE5 		ldr	r3, .L19
 3343              	.LVL18:
 3344 01dc 003093E5 		ldr	r3, [r3, #0]
 3345 01e0 030052E1 		cmp	r2, r3
 3346 01e4 F7FFFFBA 		blt	.L15
  43:../common/44blib.c **** 	for(;time>0;time--)
 3347              		.loc 1 43 0 is_stmt 1
 3348 01e8 18301BE5 		ldr	r3, [fp, #-24]
 3349 01ec 013043E2 		sub	r3, r3, #1
 3350 01f0 18300BE5 		str	r3, [fp, #-24]
 3351              	.LVL19:
 3352 01f4 000000EA 		b	.L13
 3353              	.LVL20:
 3354              	.L18:
 3355 01f8 0000A0E1 		mov	r0, r0	@ nop
 3356              	.LVL21:
 3357              	.L13:
  43:../common/44blib.c **** 	for(;time>0;time--)
 3358              		.loc 1 43 0 is_stmt 0 discriminator 1
 3359 01fc 18301BE5 		ldr	r3, [fp, #-24]
 3360 0200 000053E3 		cmp	r3, #0
 3361 0204 ECFFFFCA 		bgt	.L16
  45:../common/44blib.c **** 	if(adjust==1)
 3362              		.loc 1 45 0 is_stmt 1
 3363 0208 14301BE5 		ldr	r3, [fp, #-20]
 3364 020c 010053E3 		cmp	r3, #1
 3365 0210 1000001A 		bne	.L11
  47:../common/44blib.c **** 		rWTCON=((MCLK/1000000-1)<<8)|(2<<3);
 3366              		.loc 1 47 0
 3367 0214 4C309FE5 		ldr	r3, .L19+4
 3368 0218 4C209FE5 		ldr	r2, .L19+8
 3369 021c 002083E5 		str	r2, [r3, #0]
  48:../common/44blib.c **** 		i=0xffff-rWTCNT;   //  1count/16us?????????//
 3370              		.loc 1 48 0
 3371 0220 50309FE5 		ldr	r3, .L19+20
 3372 0224 003093E5 		ldr	r3, [r3, #0]
 3373 0228 FF3C63E2 		rsb	r3, r3, #65280
 3374 022c FF3083E2 		add	r3, r3, #255
 3375 0230 10300BE5 		str	r3, [fp, #-16]
  49:../common/44blib.c **** 		delayLoopCount=8000000/(i*64);	//400*100/(i*64/200)   //
 3376              		.loc 1 49 0
 3377 0234 10301BE5 		ldr	r3, [fp, #-16]
 3378 0238 0333A0E1 		mov	r3, r3, asl #6
 3379 023c 3C009FE5 		ldr	r0, .L19+28
 3380 0240 0310A0E1 		mov	r1, r3
 3381 0244 FEFFFFEB 		bl	__aeabi_idiv
 3382 0248 0030A0E1 		mov	r3, r0
 3383 024c 0320A0E1 		mov	r2, r3
 3384 0250 0C309FE5 		ldr	r3, .L19
 3385 0254 002083E5 		str	r2, [r3, #0]
 3386              	.L11:
 3387              		.loc 1 51 0
 3388 0258 0CD04BE2 		sub	sp, fp, #12
 3389 025c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 3390 0260 1EFF2FE1 		bx	lr
 3391              	.L20:
 3392              		.align	2
 3393              	.L19:
 3394 0264 00000000 		.word	delayLoopCount
 3395 0268 0000D301 		.word	30605312
 3396 026c 103F0000 		.word	16144
 3397 0270 0400D301 		.word	30605316
 3398 0274 FFFF0000 		.word	65535
 3399 0278 0800D301 		.word	30605320
 3400 027c 303F0000 		.word	16176
 3401 0280 00127A00 		.word	8000000
 3402              		.cfi_endproc
 3403              	.LFE0:
 3405              		.align	2
 3406              		.global	DelayMs
 3408              	DelayMs:
 3409              	.LFB1:
  52:../common/44blib.c **** 
  53:../common/44blib.c **** void DelayMs(int ms_time)
  54:../common/44blib.c **** {
 3410              		.loc 1 54 0
 3411              		.cfi_startproc
 3412              		@ Function supports interworking.
 3413              		@ args = 0, pretend = 0, frame = 0
 3414              		@ frame_needed = 0, uses_anonymous_args = 0
 3415              		@ link register save eliminated.
 3416              	.LVL22:
  55:../common/44blib.c **** 	int i;
  56:../common/44blib.c **** 	
  57:../common/44blib.c **** 	for( i = 0 ; i < 1000*ms_time ; i++ )
  58:../common/44blib.c **** 		;
  59:../common/44blib.c **** }
 3417              		.loc 1 59 0
 3418 0284 1EFF2FE1 		bx	lr
 3419              		.cfi_endproc
 3420              	.LFE1:
 3422              		.align	2
 3423              		.global	DelayTime
 3425              	DelayTime:
 3426              	.LFB2:
  60:../common/44blib.c **** 
  61:../common/44blib.c **** void DelayTime(int num)
  62:../common/44blib.c **** {
 3427              		.loc 1 62 0
 3428              		.cfi_startproc
 3429              		@ Function supports interworking.
 3430              		@ args = 0, pretend = 0, frame = 0
 3431              		@ frame_needed = 0, uses_anonymous_args = 0
 3432              		@ link register save eliminated.
 3433              	.LVL23:
  63:../common/44blib.c **** 	int i;
  64:../common/44blib.c **** 	
  65:../common/44blib.c **** 	for( i = 0 ; i < num ; i++ )
  66:../common/44blib.c **** 		;
  67:../common/44blib.c **** }
 3434              		.loc 1 67 0
 3435 0288 1EFF2FE1 		bx	lr
 3436              		.cfi_endproc
 3437              	.LFE2:
 3439              		.align	2
 3440              		.global	Port_Init
 3442              	Port_Init:
 3443              	.LFB3:
  68:../common/44blib.c **** 
  69:../common/44blib.c **** //------------------------PORTS------------------------------//
  70:../common/44blib.c **** void Port_Init(void)
  71:../common/44blib.c **** {
 3444              		.loc 1 71 0
 3445              		.cfi_startproc
 3446              		@ Function supports interworking.
 3447              		@ args = 0, pretend = 0, frame = 0
 3448              		@ frame_needed = 0, uses_anonymous_args = 0
 3449              		@ link register save eliminated.
  72:../common/44blib.c **** 	//CAUTION:Follow the configuration order for setting the ports. 
  73:../common/44blib.c **** 	// 1) setting value 
  74:../common/44blib.c **** 	// 2) setting control register 
  75:../common/44blib.c **** 	// 3) configure pull-up resistor.  
  76:../common/44blib.c **** 
  77:../common/44blib.c **** 	//16bit data bus configuration  
  78:../common/44blib.c **** 
  79:../common/44blib.c **** 	// PORT A GROUP
  80:../common/44blib.c **** 	// BIT 	9	8	7	6	5	4	3	2	1	0
  81:../common/44blib.c **** 	// 		A24	A23	A22	A21	A20	A19	A18	A17	A16	A0
  82:../common/44blib.c **** 	//		0	1	1	1	1	1	1	1	1	1
  83:../common/44blib.c **** 	rPCONA = 0x1ff;	
 3450              		.loc 1 83 0
 3451 028c 9C309FE5 		ldr	r3, .L24
 3452 0290 9C009FE5 		ldr	r0, .L24+4
  84:../common/44blib.c **** 
  85:../common/44blib.c **** 	// PORT B GROUP
  86:../common/44blib.c **** 	// BIT 	10		9		8		7		6		5		4		3		2		1		0
  87:../common/44blib.c **** 	//		/CS5	/CS4	/CS3	/CS2	/CS1	GPB5	GPB4	/SRAS	/SCAS	SCLK	SCKE
  88:../common/44blib.c **** 	//		EXT		NIC		USB		IDE		SMC		NC		NC		Sdram	Sdram	Sdram	Sdram
  89:../common/44blib.c **** 	//      1, 		1,   	1,   	1,    	1,    	0,       0,     1,    	1,    	1,   	1	
  90:../common/44blib.c **** 	rPDATB = 0x7ff;				// P9-LED1 P10-LED2
 3453              		.loc 1 90 0
 3454 0294 9CC09FE5 		ldr	ip, .L24+8
  83:../common/44blib.c **** 	rPCONA = 0x1ff;	
 3455              		.loc 1 83 0
 3456 0298 000083E5 		str	r0, [r3, #0]
 3457              		.loc 1 90 0
 3458 029c 0CC083E5 		str	ip, [r3, #12]
  91:../common/44blib.c **** 	rPCONB = 0x1cf;
 3459              		.loc 1 91 0
 3460 02a0 94C09FE5 		ldr	ip, .L24+12
 3461 02a4 08C083E5 		str	ip, [r3, #8]
  92:../common/44blib.c ****     
  93:../common/44blib.c **** 	// PORT C GROUP
  94:../common/44blib.c **** 	// BUSWIDTH=16
  95:../common/44blib.c **** 	//  PC15	14		13		12		11		10		9		8
  96:../common/44blib.c **** 	//	I		I		RXD1	TXD1	I		I		I		I
  97:../common/44blib.c **** 	//	NC		NC		Uart1	Uart1	NC		NC		NC		NC
  98:../common/44blib.c **** 	//	00		00		11		11		00		00		00		00
  99:../common/44blib.c **** 
 100:../common/44blib.c **** 	//  PC7		6		5		4		3		2		1		0
 101:../common/44blib.c **** 	//   I		I		I		I		I		I		I		I
 102:../common/44blib.c **** 	//   NC		NC		NC		NC		IISCLK	IISDI	IISDO	IISLRCK
 103:../common/44blib.c **** 	//   00		00		00		00		11		11		11		11
 104:../common/44blib.c **** 	rPDATC = 0xff00;
 3462              		.loc 1 104 0
 3463 02a8 FFCCA0E3 		mov	ip, #65280
 3464 02ac 14C083E5 		str	ip, [r3, #20]
 105:../common/44blib.c **** 	rPCONC = 0x0ff0ffff;	
 3465              		.loc 1 105 0
 3466 02b0 88C09FE5 		ldr	ip, .L24+16
 3467 02b4 10C083E5 		str	ip, [r3, #16]
 106:../common/44blib.c **** 	rPUPC  = 0x30ff;	//PULL UP RESISTOR should be enabled to I/O
 3468              		.loc 1 106 0
 3469 02b8 84C09FE5 		ldr	ip, .L24+20
 3470 02bc 18C083E5 		str	ip, [r3, #24]
 107:../common/44blib.c **** 
 108:../common/44blib.c **** 	// PORT D GROUP
 109:../common/44blib.c **** 	// PORT D GROUP(I/O OR LCD)
 110:../common/44blib.c **** 	// BIT7		6		5		4		3		2		1		0
 111:../common/44blib.c **** 	//	VF		VM		VLINE	VCLK	VD3		VD2		VD1		VD0
 112:../common/44blib.c **** 	//	00		00		00		00		00		00		00		00
 113:../common/44blib.c **** 	rPDATD= 0xff;
 114:../common/44blib.c **** 	rPCOND= 0xaaaa;	
 3471              		.loc 1 114 0
 3472 02c0 80C09FE5 		ldr	ip, .L24+24
 113:../common/44blib.c **** 	rPDATD= 0xff;
 3473              		.loc 1 113 0
 3474 02c4 FF10A0E3 		mov	r1, #255
 3475 02c8 201083E5 		str	r1, [r3, #32]
 115:../common/44blib.c **** 	rPUPD = 0x0;
 3476              		.loc 1 115 0
 3477 02cc 0020A0E3 		mov	r2, #0
 114:../common/44blib.c **** 	rPCOND= 0xaaaa;	
 3478              		.loc 1 114 0
 3479 02d0 1CC083E5 		str	ip, [r3, #28]
 116:../common/44blib.c **** 	// These pins must be set only after CPU's internal LCD controller is enable
 117:../common/44blib.c **** 	
 118:../common/44blib.c **** 	// PORT E GROUP 
 119:../common/44blib.c **** 	// Bit	8		7		6		5		4		3		2		1		0
 120:../common/44blib.c **** 	//  	CODECLK	LED4	LED5	LED6	LED7	BEEP	RXD0	TXD0	LcdDisp
 121:../common/44blib.c **** 	//  	10		01		01		01		01		01		10		10		01
 122:../common/44blib.c **** 	rPDATE	= 0x1ff;
 123:../common/44blib.c **** 	rPCONE	= 0x25529;	
 3480              		.loc 1 123 0
 3481 02d4 25CA80E2 		add	ip, r0, #151552
 115:../common/44blib.c **** 	rPUPD = 0x0;
 3482              		.loc 1 115 0
 3483 02d8 242083E5 		str	r2, [r3, #36]
 122:../common/44blib.c **** 	rPDATE	= 0x1ff;
 3484              		.loc 1 122 0
 3485 02dc 2C0083E5 		str	r0, [r3, #44]
 3486              		.loc 1 123 0
 3487 02e0 CA0F8CE2 		add	r0, ip, #808
 3488 02e4 02C080E2 		add	ip, r0, #2
 3489 02e8 28C083E5 		str	ip, [r3, #40]
 124:../common/44blib.c **** 	rPUPE	= 0x6;
 3490              		.loc 1 124 0
 3491 02ec 0600A0E3 		mov	r0, #6
 125:../common/44blib.c **** 	
 126:../common/44blib.c **** 	// PORT F GROUP
 127:../common/44blib.c **** 	// Bit8		7		6		5		 4		3		2		1		0
 128:../common/44blib.c **** 	// IISCLK	IISDI	IISDO	IISLRCK	Input	Input	Input	IICSDA	IICSCL
 129:../common/44blib.c **** 	// 100		100		100		100		00		00		00		10		10
 130:../common/44blib.c **** 	rPDATF = 0x0;
 131:../common/44blib.c **** 	rPCONF = 0x252a;
 3492              		.loc 1 131 0
 3493 02f0 54C09FE5 		ldr	ip, .L24+28
 124:../common/44blib.c **** 	rPUPE	= 0x6;
 3494              		.loc 1 124 0
 3495 02f4 300083E5 		str	r0, [r3, #48]
 132:../common/44blib.c **** 	rPUPF  = 0x0;
 133:../common/44blib.c **** 
 134:../common/44blib.c **** 	// PORT G GROUP
 135:../common/44blib.c **** 	// BIT7		6		5		4		3		2		1		0
 136:../common/44blib.c **** 	// 	INT7	INT6	INT5	INT4	INT3	INT2	INT1	INT0
 137:../common/44blib.c **** 	//	S3		S4		S5		S6		NIC		EXT		IDE		USB
 138:../common/44blib.c **** 	//	11      11      11      11      11      11      11      11
 139:../common/44blib.c **** 	rPDATG = 0xff;
 140:../common/44blib.c **** 	rPCONG = 0xffff;
 3496              		.loc 1 140 0
 3497 02f8 FF0C81E2 		add	r0, r1, #65280
 130:../common/44blib.c **** 	rPDATF = 0x0;
 3498              		.loc 1 130 0
 3499 02fc 382083E5 		str	r2, [r3, #56]
 131:../common/44blib.c **** 	rPCONF = 0x252a;
 3500              		.loc 1 131 0
 3501 0300 34C083E5 		str	ip, [r3, #52]
 132:../common/44blib.c **** 	rPUPF  = 0x0;
 3502              		.loc 1 132 0
 3503 0304 3C2083E5 		str	r2, [r3, #60]
 139:../common/44blib.c **** 	rPDATG = 0xff;
 3504              		.loc 1 139 0
 3505 0308 441083E5 		str	r1, [r3, #68]
 3506              		.loc 1 140 0
 3507 030c 400083E5 		str	r0, [r3, #64]
 141:../common/44blib.c **** 	rPUPG  = 0x0;		//should be enabled  
 142:../common/44blib.c **** 	rSPUCR = 0x7;  		//D15-D0 pull-up disable
 143:../common/44blib.c **** 
 144:../common/44blib.c **** 	/* Non Cache area */
 145:../common/44blib.c **** 	rNCACHBE0=((Non_Cache_End>>12)<<16)|(Non_Cache_Start>>12); 
 3508              		.loc 1 145 0
 3509 0310 38009FE5 		ldr	r0, .L24+32
 142:../common/44blib.c **** 	rSPUCR = 0x7;  		//D15-D0 pull-up disable
 3510              		.loc 1 142 0
 3511 0314 07C0A0E3 		mov	ip, #7
 3512              		.loc 1 145 0
 3513 0318 0715A0E3 		mov	r1, #29360128
 141:../common/44blib.c **** 	rPUPG  = 0x0;		//should be enabled  
 3514              		.loc 1 141 0
 3515 031c 482083E5 		str	r2, [r3, #72]
 142:../common/44blib.c **** 	rSPUCR = 0x7;  		//D15-D0 pull-up disable
 3516              		.loc 1 142 0
 3517 0320 4CC083E5 		str	ip, [r3, #76]
 3518              		.loc 1 145 0
 3519 0324 040081E5 		str	r0, [r1, #4]
 146:../common/44blib.c **** 	/* Low level default */
 147:../common/44blib.c **** 	rEXTINT=0x0;
 3520              		.loc 1 147 0
 3521 0328 502083E5 		str	r2, [r3, #80]
 148:../common/44blib.c **** }
 3522              		.loc 1 148 0
 3523 032c 1EFF2FE1 		bx	lr
 3524              	.L25:
 3525              		.align	2
 3526              	.L24:
 3527 0330 0000D201 		.word	30539776
 3528 0334 FF010000 		.word	511
 3529 0338 FF070000 		.word	2047
 3530 033c CF010000 		.word	463
 3531 0340 FFFFF00F 		.word	267452415
 3532 0344 FF300000 		.word	12543
 3533 0348 AAAA0000 		.word	43690
 3534 034c 2A250000 		.word	9514
 3535 0350 002000C0 		.word	-1073733632
 3536              		.cfi_endproc
 3537              	.LFE3:
 3539              		.global	__aeabi_i2d
 3540              		.global	__aeabi_dmul
 3541              		.global	__aeabi_ddiv
 3542              		.global	__aeabi_dadd
 3543              		.global	__aeabi_d2iz
 3544              		.align	2
 3545              		.global	Uart_Init
 3547              	Uart_Init:
 3548              	.LFB4:
 149:../common/44blib.c **** 
 150:../common/44blib.c **** //------------------------UART------------------------------//
 151:../common/44blib.c **** void Uart_Init(int mclk,int baud)
 152:../common/44blib.c **** {
 3549              		.loc 1 152 0
 3550              		.cfi_startproc
 3551              		@ Function supports interworking.
 3552              		@ args = 0, pretend = 0, frame = 0
 3553              		@ frame_needed = 1, uses_anonymous_args = 0
 3554              	.LVL24:
 3555 0354 0DC0A0E1 		mov	ip, sp
 3556              	.LCFI4:
 3557              		.cfi_def_cfa_register 12
 153:../common/44blib.c ****     int i;
 154:../common/44blib.c ****     if(mclk==0)
 3558              		.loc 1 154 0
 3559 0358 000050E3 		cmp	r0, #0
 152:../common/44blib.c **** {
 3560              		.loc 1 152 0
 3561 035c F8DF2DE9 		stmfd	sp!, {r3, r4, r5, r6, r7, r8, r9, sl, fp, ip, lr, pc}
 3562 0360 04B04CE2 		sub	fp, ip, #4
 3563              		.cfi_offset 14, -8
 3564              		.cfi_offset 13, -12
 3565              		.cfi_offset 11, -16
 3566              		.cfi_offset 10, -20
 3567              		.cfi_offset 9, -24
 3568              		.cfi_offset 8, -28
 3569              		.cfi_offset 7, -32
 3570              		.cfi_offset 6, -36
 3571              		.cfi_offset 5, -40
 3572              		.cfi_offset 4, -44
 3573              		.cfi_offset 3, -48
 3574              	.LCFI5:
 3575              		.cfi_def_cfa 11, 4
 152:../common/44blib.c **** {
 3576              		.loc 1 152 0
 3577 0364 0180A0E1 		mov	r8, r1
 3578              		.loc 1 154 0
 3579 0368 1F00001A 		bne	.L30
 3580 036c 94A09FE5 		ldr	sl, .L31
 3581 0370 0090A0E3 		mov	r9, #0
 3582              	.LVL25:
 3583              	.L27:
 155:../common/44blib.c **** 		mclk=MCLK;
 156:../common/44blib.c **** 
 157:../common/44blib.c ****     rUFCON0=0x0;     //FIFO disable
 158:../common/44blib.c ****     rUFCON1=0x0;
 3584              		.loc 1 158 0
 3585 0374 90409FE5 		ldr	r4, .L31+4
 159:../common/44blib.c ****     rUMCON0=0x0;
 160:../common/44blib.c ****     rUMCON1=0x0;
 161:../common/44blib.c **** //UART0
 162:../common/44blib.c ****     rULCON0=0x3;     //Normal,No parity,1 stop,8 bit
 163:../common/44blib.c ****     rUCON0=0x245;    //rx=edge,tx=level,disable timeout int.,enable rx error int.,normal,interrupt 
 3586              		.loc 1 163 0
 3587 0378 90709FE5 		ldr	r7, .L31+8
 157:../common/44blib.c ****     rUFCON0=0x0;     //FIFO disable
 3588              		.loc 1 157 0
 3589 037c 0030A0E3 		mov	r3, #0
 3590 0380 1D56A0E3 		mov	r5, #30408704
 162:../common/44blib.c ****     rULCON0=0x3;     //Normal,No parity,1 stop,8 bit
 3591              		.loc 1 162 0
 3592 0384 0360A0E3 		mov	r6, #3
 157:../common/44blib.c ****     rUFCON0=0x0;     //FIFO disable
 3593              		.loc 1 157 0
 3594 0388 083085E5 		str	r3, [r5, #8]
 164:../common/44blib.c ****     rUBRDIV0=( (int)(mclk/16./baud + 0.5) -1 );
 3595              		.loc 1 164 0
 3596 038c 0800A0E1 		mov	r0, r8
 158:../common/44blib.c ****     rUFCON1=0x0;
 3597              		.loc 1 158 0
 3598 0390 083084E5 		str	r3, [r4, #8]
 159:../common/44blib.c ****     rUMCON0=0x0;
 3599              		.loc 1 159 0
 3600 0394 0C3085E5 		str	r3, [r5, #12]
 160:../common/44blib.c ****     rUMCON1=0x0;
 3601              		.loc 1 160 0
 3602 0398 0C3084E5 		str	r3, [r4, #12]
 162:../common/44blib.c ****     rULCON0=0x3;     //Normal,No parity,1 stop,8 bit
 3603              		.loc 1 162 0
 3604 039c 006085E5 		str	r6, [r5, #0]
 163:../common/44blib.c ****     rUCON0=0x245;    //rx=edge,tx=level,disable timeout int.,enable rx error int.,normal,interrupt 
 3605              		.loc 1 163 0
 3606 03a0 047085E5 		str	r7, [r5, #4]
 3607              		.loc 1 164 0
 3608 03a4 FEFFFFEB 		bl	__aeabi_i2d
 3609 03a8 0020A0E1 		mov	r2, r0
 3610 03ac 0130A0E1 		mov	r3, r1
 3611 03b0 0900A0E1 		mov	r0, r9
 3612 03b4 0A10A0E1 		mov	r1, sl
 3613 03b8 FEFFFFEB 		bl	__aeabi_ddiv
 3614 03bc 0020A0E3 		mov	r2, #0
 3615 03c0 4C309FE5 		ldr	r3, .L31+12
 3616 03c4 FEFFFFEB 		bl	__aeabi_dadd
 3617 03c8 FEFFFFEB 		bl	__aeabi_d2iz
 3618 03cc 010040E2 		sub	r0, r0, #1
 3619 03d0 280085E5 		str	r0, [r5, #40]
 165:../common/44blib.c **** //UART1
 166:../common/44blib.c ****     rULCON1=0x3;
 3620              		.loc 1 166 0
 3621 03d4 006084E5 		str	r6, [r4, #0]
 167:../common/44blib.c ****     rUCON1=0x245;
 3622              		.loc 1 167 0
 3623 03d8 047084E5 		str	r7, [r4, #4]
 168:../common/44blib.c ****     rUBRDIV1=( (int)(mclk/16./baud + 0.5) -1 );
 3624              		.loc 1 168 0
 3625 03dc 280084E5 		str	r0, [r4, #40]
 3626              	.LVL26:
 169:../common/44blib.c **** 
 170:../common/44blib.c ****     for(i=0;i<100;i++);
 171:../common/44blib.c **** }
 3627              		.loc 1 171 0
 3628 03e0 2CD04BE2 		sub	sp, fp, #44
 3629 03e4 F86F9DE8 		ldmfd	sp, {r3, r4, r5, r6, r7, r8, r9, sl, fp, sp, lr}
 3630 03e8 1EFF2FE1 		bx	lr
 3631              	.LVL27:
 3632              	.L30:
 154:../common/44blib.c ****     if(mclk==0)
 3633              		.loc 1 154 0
 3634 03ec FEFFFFEB 		bl	__aeabi_i2d
 3635              	.LVL28:
 3636 03f0 0020A0E3 		mov	r2, #0
 3637 03f4 1C309FE5 		ldr	r3, .L31+16
 3638 03f8 FEFFFFEB 		bl	__aeabi_dmul
 3639 03fc 0090A0E1 		mov	r9, r0
 3640 0400 01A0A0E1 		mov	sl, r1
 3641 0404 DAFFFFEA 		b	.L27
 3642              	.L32:
 3643              		.align	2
 3644              	.L31:
 3645 0408 80844E41 		.word	1095664768
 3646 040c 0040D001 		.word	30425088
 3647 0410 45020000 		.word	581
 3648 0414 0000E03F 		.word	1071644672
 3649 0418 0000B03F 		.word	1068498944
 3650              		.cfi_endproc
 3651              	.LFE4:
 3653              		.align	2
 3654              		.global	Timer_Start
 3656              	Timer_Start:
 3657              	.LFB5:
 172:../common/44blib.c **** 
 173:../common/44blib.c **** //------------------------ Timer ------------------------------//
 174:../common/44blib.c **** void Timer_Start(int divider)  //0:16us,1:32us 2:64us 3:128us
 175:../common/44blib.c **** {
 3658              		.loc 1 175 0
 3659              		.cfi_startproc
 3660              		@ Function supports interworking.
 3661              		@ args = 0, pretend = 0, frame = 0
 3662              		@ frame_needed = 0, uses_anonymous_args = 0
 3663              		@ link register save eliminated.
 3664              	.LVL29:
 176:../common/44blib.c ****     rWTCON=((MCLK/1000000-1)<<8)|(divider<<3);
 3665              		.loc 1 176 0
 3666 041c 80C1A0E1 		mov	ip, r0, asl #3
 3667 0420 1C309FE5 		ldr	r3, .L34
 3668 0424 3F0C8CE3 		orr	r0, ip, #16128
 3669              	.LVL30:
 177:../common/44blib.c ****     rWTDAT=0xffff;
 3670              		.loc 1 177 0
 3671 0428 18209FE5 		ldr	r2, .L34+4
 178:../common/44blib.c ****     rWTCNT=0xffff;   
 179:../common/44blib.c **** 
 180:../common/44blib.c ****     // 1/16/(65+1),nRESET & interrupt  disable
 181:../common/44blib.c ****     rWTCON=((MCLK/1000000-1)<<8)|(divider<<3)|(1<<5);	
 3672              		.loc 1 181 0
 3673 042c 201080E3 		orr	r1, r0, #32
 176:../common/44blib.c ****     rWTCON=((MCLK/1000000-1)<<8)|(divider<<3);
 3674              		.loc 1 176 0
 3675 0430 000083E5 		str	r0, [r3, #0]
 177:../common/44blib.c ****     rWTDAT=0xffff;
 3676              		.loc 1 177 0
 3677 0434 042083E5 		str	r2, [r3, #4]
 178:../common/44blib.c ****     rWTCNT=0xffff;   
 3678              		.loc 1 178 0
 3679 0438 082083E5 		str	r2, [r3, #8]
 3680              		.loc 1 181 0
 3681 043c 001083E5 		str	r1, [r3, #0]
 182:../common/44blib.c **** }
 3682              		.loc 1 182 0
 3683 0440 1EFF2FE1 		bx	lr
 3684              	.L35:
 3685              		.align	2
 3686              	.L34:
 3687 0444 0000D301 		.word	30605312
 3688 0448 FFFF0000 		.word	65535
 3689              		.cfi_endproc
 3690              	.LFE5:
 3692              		.align	2
 3693              		.global	Timer_Stop
 3695              	Timer_Stop:
 3696              	.LFB6:
 183:../common/44blib.c **** 
 184:../common/44blib.c **** 
 185:../common/44blib.c **** int Timer_Stop(void)
 186:../common/44blib.c **** {
 3697              		.loc 1 186 0
 3698              		.cfi_startproc
 3699              		@ Function supports interworking.
 3700              		@ args = 0, pretend = 0, frame = 0
 3701              		@ frame_needed = 0, uses_anonymous_args = 0
 3702              		@ link register save eliminated.
 187:../common/44blib.c ****     rWTCON=((MCLK/1000000-1)<<8);
 3703              		.loc 1 187 0
 3704 044c 14309FE5 		ldr	r3, .L37
 3705 0450 3F2CA0E3 		mov	r2, #16128
 3706 0454 002083E5 		str	r2, [r3, #0]
 188:../common/44blib.c ****     return (0xffff-rWTCNT);
 3707              		.loc 1 188 0
 3708 0458 081093E5 		ldr	r1, [r3, #8]
 3709 045c FF0C61E2 		rsb	r0, r1, #65280
 189:../common/44blib.c **** }
 3710              		.loc 1 189 0
 3711 0460 FF0080E2 		add	r0, r0, #255
 3712 0464 1EFF2FE1 		bx	lr
 3713              	.L38:
 3714              		.align	2
 3715              	.L37:
 3716 0468 0000D301 		.word	30605312
 3717              		.cfi_endproc
 3718              	.LFE6:
 3720              		.align	2
 3721              		.global	Beep
 3723              	Beep:
 3724              	.LFB7:
 190:../common/44blib.c **** 
 191:../common/44blib.c **** void Beep(int BeepStatus)
 192:../common/44blib.c **** {
 3725              		.loc 1 192 0
 3726              		.cfi_startproc
 3727              		@ Function supports interworking.
 3728              		@ args = 0, pretend = 0, frame = 0
 3729              		@ frame_needed = 0, uses_anonymous_args = 0
 3730              		@ link register save eliminated.
 3731              	.LVL31:
 193:../common/44blib.c **** 	if (BeepStatus==0)
 3732              		.loc 1 193 0
 3733 046c 000050E3 		cmp	r0, #0
 194:../common/44blib.c **** 		rPDATE=rPDATE|0x8;
 3734              		.loc 1 194 0
 3735 0470 20309F05 		ldreq	r3, .L42
 195:../common/44blib.c **** 	else
 196:../common/44blib.c **** 		rPDATE=rPDATE&0x1f7;
 3736              		.loc 1 196 0
 3737 0474 1C209F15 		ldrne	r2, .L42
 194:../common/44blib.c **** 		rPDATE=rPDATE|0x8;
 3738              		.loc 1 194 0
 3739 0478 2C209305 		ldreq	r2, [r3, #44]
 3740              		.loc 1 196 0
 3741 047c 18309F15 		ldrne	r3, .L42+4
 3742 0480 2C109215 		ldrne	r1, [r2, #44]
 194:../common/44blib.c **** 		rPDATE=rPDATE|0x8;
 3743              		.loc 1 194 0
 3744 0484 08208203 		orreq	r2, r2, #8
 3745              		.loc 1 196 0
 3746 0488 03300110 		andne	r3, r1, r3
 194:../common/44blib.c **** 		rPDATE=rPDATE|0x8;
 3747              		.loc 1 194 0
 3748 048c 2C208305 		streq	r2, [r3, #44]
 3749              		.loc 1 196 0
 3750 0490 2C308215 		strne	r3, [r2, #44]
 3751 0494 1EFF2FE1 		bx	lr
 3752              	.L43:
 3753              		.align	2
 3754              	.L42:
 3755 0498 0000D201 		.word	30539776
 3756 049c F7010000 		.word	503
 3757              		.cfi_endproc
 3758              	.LFE7:
 3760              		.align	2
 3761              		.global	ChangePllValue
 3763              	ChangePllValue:
 3764              	.LFB8:
 197:../common/44blib.c **** 
 198:../common/44blib.c **** }
 199:../common/44blib.c **** 
 200:../common/44blib.c **** //------------------------ PLL ------------------------------//
 201:../common/44blib.c **** void ChangePllValue(int mdiv,int pdiv,int sdiv)
 202:../common/44blib.c **** {
 3765              		.loc 1 202 0
 3766              		.cfi_startproc
 3767              		@ Function supports interworking.
 3768              		@ args = 0, pretend = 0, frame = 0
 3769              		@ frame_needed = 0, uses_anonymous_args = 0
 3770              		@ link register save eliminated.
 3771              	.LVL32:
 203:../common/44blib.c ****     rPLLCON=(mdiv<<12)|(pdiv<<4)|sdiv;
 3772              		.loc 1 203 0
 3773 04a0 011282E1 		orr	r1, r2, r1, asl #4
 3774              	.LVL33:
 3775 04a4 002681E1 		orr	r2, r1, r0, asl #12
 3776              	.LVL34:
 3777 04a8 7637A0E3 		mov	r3, #30932992
 3778 04ac 002083E5 		str	r2, [r3, #0]
 204:../common/44blib.c **** }
 3779              		.loc 1 204 0
 3780 04b0 1EFF2FE1 		bx	lr
 3781              		.cfi_endproc
 3782              	.LFE8:
 3784              		.align	2
 3785              		.global	malloc
 3787              	malloc:
 3788              	.LFB9:
 205:../common/44blib.c **** 
 206:../common/44blib.c **** //------------------------ General Library ------------------------------//
 207:../common/44blib.c **** void * malloc(unsigned nbyte) 
 208:../common/44blib.c **** /*Very simple; Use malloc() & free() like Stack*/
 209:../common/44blib.c **** //void *mallocPt=Image$$RW$$Limit;
 210:../common/44blib.c **** {
 3789              		.loc 1 210 0
 3790              		.cfi_startproc
 3791              		@ Function supports interworking.
 3792              		@ args = 0, pretend = 0, frame = 0
 3793              		@ frame_needed = 0, uses_anonymous_args = 0
 3794              		@ link register save eliminated.
 3795              	.LVL35:
 211:../common/44blib.c ****     void *returnPt=mallocPt;
 3796              		.loc 1 211 0
 3797 04b4 2C109FE5 		ldr	r1, .L47
 212:../common/44blib.c **** 
 213:../common/44blib.c ****     mallocPt= (int *)mallocPt+nbyte/4+((nbyte%4)>0); //to align 4byte
 3798              		.loc 1 213 0
 3799 04b8 033010E2 		ands	r3, r0, #3
 211:../common/44blib.c ****     void *returnPt=mallocPt;
 3800              		.loc 1 211 0
 3801 04bc 002091E5 		ldr	r2, [r1, #0]
 3802              	.LVL36:
 3803              		.loc 1 213 0
 3804 04c0 0130A013 		movne	r3, #1
 3805 04c4 20C183E0 		add	ip, r3, r0, lsr #2
 214:../common/44blib.c **** 
 215:../common/44blib.c ****     if( (int)mallocPt > HEAPEND )
 3806              		.loc 1 215 0
 3807 04c8 1C009FE5 		ldr	r0, .L47+4
 3808              	.LVL37:
 213:../common/44blib.c ****     mallocPt= (int *)mallocPt+nbyte/4+((nbyte%4)>0); //to align 4byte
 3809              		.loc 1 213 0
 3810 04cc 0C3182E0 		add	r3, r2, ip, asl #2
 3811              		.loc 1 215 0
 3812 04d0 000053E1 		cmp	r3, r0
 213:../common/44blib.c ****     mallocPt= (int *)mallocPt+nbyte/4+((nbyte%4)>0); //to align 4byte
 3813              		.loc 1 213 0
 3814 04d4 003081E5 		str	r3, [r1, #0]
 216:../common/44blib.c ****     {
 217:../common/44blib.c **** 		mallocPt=returnPt;
 3815              		.loc 1 217 0
 3816 04d8 002081C5 		strgt	r2, [r1, #0]
 218:../common/44blib.c **** 		return NULL;
 3817              		.loc 1 218 0
 3818 04dc 0020A0C3 		movgt	r2, #0
 219:../common/44blib.c ****     }
 220:../common/44blib.c ****     return returnPt;
 221:../common/44blib.c **** }
 3819              		.loc 1 221 0
 3820 04e0 0200A0E1 		mov	r0, r2
 3821 04e4 1EFF2FE1 		bx	lr
 3822              	.L48:
 3823              		.align	2
 3824              	.L47:
 3825 04e8 04000000 		.word	.LANCHOR0
 3826 04ec 00F07F0C 		.word	209711104
 3827              		.cfi_endproc
 3828              	.LFE9:
 3830              		.align	2
 3831              		.global	free
 3833              	free:
 3834              	.LFB10:
 222:../common/44blib.c **** 
 223:../common/44blib.c **** void free(void *pt)
 224:../common/44blib.c **** {
 3835              		.loc 1 224 0
 3836              		.cfi_startproc
 3837              		@ Function supports interworking.
 3838              		@ args = 0, pretend = 0, frame = 0
 3839              		@ frame_needed = 0, uses_anonymous_args = 0
 3840              		@ link register save eliminated.
 3841              	.LVL38:
 225:../common/44blib.c ****     mallocPt=pt;
 3842              		.loc 1 225 0
 3843 04f0 04309FE5 		ldr	r3, .L50
 3844 04f4 000083E5 		str	r0, [r3, #0]
 226:../common/44blib.c **** }
 3845              		.loc 1 226 0
 3846 04f8 1EFF2FE1 		bx	lr
 3847              	.L51:
 3848              		.align	2
 3849              	.L50:
 3850 04fc 04000000 		.word	.LANCHOR0
 3851              		.cfi_endproc
 3852              	.LFE10:
 3854              		.align	2
 3855              		.global	Cache_Flush
 3857              	Cache_Flush:
 3858              	.LFB11:
 227:../common/44blib.c **** 
 228:../common/44blib.c **** void Cache_Flush(void)
 229:../common/44blib.c **** {
 3859              		.loc 1 229 0
 3860              		.cfi_startproc
 3861              		@ Function supports interworking.
 3862              		@ args = 0, pretend = 0, frame = 0
 3863              		@ frame_needed = 0, uses_anonymous_args = 0
 3864              		@ link register save eliminated.
 230:../common/44blib.c ****     int i,saveSyscfg;
 231:../common/44blib.c ****     
 232:../common/44blib.c ****     saveSyscfg=rSYSCFG;
 3865              		.loc 1 232 0
 3866 0500 0725A0E3 		mov	r2, #29360128
 233:../common/44blib.c **** 
 234:../common/44blib.c ****     rSYSCFG=SYSCFG_0KB; 		      
 3867              		.loc 1 234 0
 3868 0504 0810A0E3 		mov	r1, #8
 3869 0508 48309FE5 		ldr	r3, .L58
 235:../common/44blib.c ****     for(i=0x10004000;i<0x10004800;i+=16)    
 3870              		.loc 1 235 0
 3871 050c 48C09FE5 		ldr	ip, .L58+4
 229:../common/44blib.c **** {
 3872              		.loc 1 229 0
 3873 0510 04402DE5 		str	r4, [sp, #-4]!
 3874              	.LCFI6:
 3875              		.cfi_def_cfa_offset 4
 232:../common/44blib.c ****     saveSyscfg=rSYSCFG;
 3876              		.loc 1 232 0
 3877 0514 004092E5 		ldr	r4, [r2, #0]
 3878              		.cfi_offset 4, -4
 3879              	.LVL39:
 234:../common/44blib.c ****     rSYSCFG=SYSCFG_0KB; 		      
 3880              		.loc 1 234 0
 3881 0518 001082E5 		str	r1, [r2, #0]
 3882              	.LVL40:
 236:../common/44blib.c ****     {					   
 237:../common/44blib.c **** 		*((int *)i)=0x0;		   
 3883              		.loc 1 237 0
 3884 051c 0020A0E3 		mov	r2, #0
 3885              	.LVL41:
 3886              	.L53:
 3887              		.loc 1 237 0 is_stmt 0 discriminator 2
 3888 0520 0310A0E1 		mov	r1, r3
 3889 0524 102003E5 		str	r2, [r3, #-16]
 3890 0528 102081E4 		str	r2, [r1], #16
 3891 052c 300083E2 		add	r0, r3, #48
 3892 0530 403083E2 		add	r3, r3, #64
 3893 0534 101081E2 		add	r1, r1, #16
 235:../common/44blib.c ****     for(i=0x10004000;i<0x10004800;i+=16)    
 3894              		.loc 1 235 0 is_stmt 1 discriminator 2
 3895 0538 0C0053E1 		cmp	r3, ip
 3896              		.loc 1 237 0 discriminator 2
 3897 053c 102001E5 		str	r2, [r1, #-16]
 3898 0540 102000E5 		str	r2, [r0, #-16]
 235:../common/44blib.c ****     for(i=0x10004000;i<0x10004800;i+=16)    
 3899              		.loc 1 235 0 discriminator 2
 3900 0544 F5FFFF1A 		bne	.L53
 238:../common/44blib.c ****     }
 239:../common/44blib.c ****     rSYSCFG=saveSyscfg; 			    
 3901              		.loc 1 239 0
 3902 0548 0735A0E3 		mov	r3, #29360128
 3903 054c 004083E5 		str	r4, [r3, #0]
 240:../common/44blib.c **** }
 3904              		.loc 1 240 0
 3905 0550 04409DE4 		ldmfd	sp!, {r4}
 3906 0554 1EFF2FE1 		bx	lr
 3907              	.L59:
 3908              		.align	2
 3909              	.L58:
 3910 0558 10400010 		.word	268451856
 3911 055c 10480010 		.word	268453904
 3912              		.cfi_endproc
 3913              	.LFE11:
 3915              		.align	2
 3916              		.global	sys_init
 3918              	sys_init:
 3919              	.LFB12:
 241:../common/44blib.c **** 
 242:../common/44blib.c **** void sys_init()// Interrupt,Port and UART
 243:../common/44blib.c **** {
 3920              		.loc 1 243 0
 3921              		.cfi_startproc
 3922              		@ Function supports interworking.
 3923              		@ args = 0, pretend = 0, frame = 0
 3924              		@ frame_needed = 1, uses_anonymous_args = 0
 3925 0560 0DC0A0E1 		mov	ip, sp
 3926              	.LCFI7:
 3927              		.cfi_def_cfa_register 12
 244:../common/44blib.c **** 	/* enable interrupt */
 245:../common/44blib.c **** 	rINTMOD = 0x0;
 246:../common/44blib.c **** 	rINTCON = 0x1;
 247:../common/44blib.c **** 	rI_ISPC = 0xffffffff;			// clear all interrupt pend
 248:../common/44blib.c **** 	rEXTINTPND = 0xf;				  // clear EXTINTPND reg
 3928              		.loc 1 248 0
 3929 0564 44009FE5 		ldr	r0, .L61
 243:../common/44blib.c **** {
 3930              		.loc 1 243 0
 3931 0568 18D82DE9 		stmfd	sp!, {r3, r4, fp, ip, lr, pc}
 247:../common/44blib.c **** 	rI_ISPC = 0xffffffff;			// clear all interrupt pend
 3932              		.loc 1 247 0
 3933 056c 0010E0E3 		mvn	r1, #0
 245:../common/44blib.c **** 	rINTMOD = 0x0;
 3934              		.loc 1 245 0
 3935 0570 1E46A0E3 		mov	r4, #31457280
 3936              		.cfi_offset 14, -8
 3937              		.cfi_offset 13, -12
 3938              		.cfi_offset 11, -16
 3939              		.cfi_offset 4, -20
 3940              		.cfi_offset 3, -24
 243:../common/44blib.c **** {
 3941              		.loc 1 243 0
 3942 0574 04B04CE2 		sub	fp, ip, #4
 3943              	.LCFI8:
 3944              		.cfi_def_cfa 11, 4
 245:../common/44blib.c **** 	rINTMOD = 0x0;
 3945              		.loc 1 245 0
 3946 0578 00E0A0E3 		mov	lr, #0
 246:../common/44blib.c **** 	rINTCON = 0x1;
 3947              		.loc 1 246 0
 3948 057c 01C0A0E3 		mov	ip, #1
 3949              		.loc 1 248 0
 3950 0580 0F20A0E3 		mov	r2, #15
 245:../common/44blib.c **** 	rINTMOD = 0x0;
 3951              		.loc 1 245 0
 3952 0584 08E084E5 		str	lr, [r4, #8]
 246:../common/44blib.c **** 	rINTCON = 0x1;
 3953              		.loc 1 246 0
 3954 0588 00C084E5 		str	ip, [r4, #0]
 247:../common/44blib.c **** 	rI_ISPC = 0xffffffff;			// clear all interrupt pend
 3955              		.loc 1 247 0
 3956 058c 241084E5 		str	r1, [r4, #36]
 3957              		.loc 1 248 0
 3958 0590 542080E5 		str	r2, [r0, #84]
 249:../common/44blib.c **** 	Port_Init();					    // Initial 44B0X's I/O port
 3959              		.loc 1 249 0
 3960 0594 FEFFFFEB 		bl	Port_Init
 250:../common/44blib.c **** 	Delay(0);						      // delay time				
 3961              		.loc 1 250 0
 3962 0598 98FEFFEB 		bl	Delay.clone.0
 251:../common/44blib.c **** 	rINTMSK = ~(BIT_GLOBAL);  //enable interrupt mask vector
 3963              		.loc 1 251 0
 3964 059c 0133E0E3 		mvn	r3, #67108864
 3965 05a0 0C3084E5 		str	r3, [r4, #12]
 252:../common/44blib.c **** }
 3966              		.loc 1 252 0
 3967 05a4 14D04BE2 		sub	sp, fp, #20
 3968 05a8 18689DE8 		ldmfd	sp, {r3, r4, fp, sp, lr}
 3969 05ac 1EFF2FE1 		bx	lr
 3970              	.L62:
 3971              		.align	2
 3972              	.L61:
 3973 05b0 0000D201 		.word	30539776
 3974              		.cfi_endproc
 3975              	.LFE12:
 3977              		.global	mallocPt
 3978              		.global	restart
 3979              		.global	run
 3980              		.comm	downPt,4,4
 3981              		.comm	fileSize,4,4
 3982              		.data
 3983              		.align	2
 3986              	delayLoopCount:
 3987 0000 90010000 		.word	400
 3988              		.align	2
 3989              		.set	.LANCHOR0,. + 0
 3992              	mallocPt:
 3993 0004 00000000 		.word	Image_RW_Limit
 3996              	run:
 3997 0008 0000000C 		.word	201326592
 3998              		.bss
 3999              		.align	2
 4002              	restart:
 4003 0000 00000000 		.space	4
 4004              		.text
 4005              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 44blib.c
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3126   .text:00000000 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3128   .text:00000000 Delay.clone.0
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3253   .text:00000124 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3986   .data:00000000 delayLoopCount
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3264   .text:00000144 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3267   .text:00000144 Delay
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3394   .text:00000264 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3405   .text:00000284 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3408   .text:00000284 DelayMs
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3425   .text:00000288 DelayTime
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3442   .text:0000028c Port_Init
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3527   .text:00000330 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3544   .text:00000354 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3547   .text:00000354 Uart_Init
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3645   .text:00000408 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3653   .text:0000041c $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3656   .text:0000041c Timer_Start
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3687   .text:00000444 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3692   .text:0000044c $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3695   .text:0000044c Timer_Stop
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3716   .text:00000468 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3720   .text:0000046c $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3723   .text:0000046c Beep
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3755   .text:00000498 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3760   .text:000004a0 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3763   .text:000004a0 ChangePllValue
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3787   .text:000004b4 malloc
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3825   .text:000004e8 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3830   .text:000004f0 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3833   .text:000004f0 free
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3850   .text:000004fc $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3854   .text:00000500 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3857   .text:00000500 Cache_Flush
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3910   .text:00000558 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3915   .text:00000560 $a
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3918   .text:00000560 sys_init
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3973   .text:000005b0 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3992   .data:00000004 mallocPt
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:4002   .bss:00000000 restart
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3996   .data:00000008 run
                            *COM*:00000004 downPt
                            *COM*:00000004 fileSize
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3983   .data:00000000 $d
C:\Users\guest\AppData\Local\Temp\ccHStNu8.s:3999   .bss:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
__aeabi_idiv
__aeabi_i2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_dadd
__aeabi_d2iz
Image_RW_Limit
