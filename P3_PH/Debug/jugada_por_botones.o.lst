   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 18, 4
  11              		.file	"jugada_por_botones.c"
  21              	.Ltext0:
  22              		.file 1 "../jugada_por_botones.c"
 2174              	jugada_botones:
 2175 0000 00       		.space	1
 2176 0001 000000   		.align	2
 2177              	ev_bot_izq:
 2178 0004 00000000 		.space	4
 2179              		.align	2
 2180              	ev_bot_der:
 2181 0008 00000000 		.space	4
 2182              		.align	2
 2183              	ev_tp:
 2184 000c 00000000 		.space	4
 2185              	mi_fila:
 2186 0010 00       		.space	1
 2187              	mi_columna:
 2188 0011 00       		.space	1
 2189              		.global	haciendo_DMA
 2190 0012 0000     		.align	2
 2193              	haciendo_DMA:
 2194 0014 00000000 		.space	4
 2195              		.align	2
 2196              	ev_timer:
 2197 0018 00000000 		.space	4
 2198              	fin:
 2199 001c 00       		.space	1
 2200 001d 000000   		.align	2
 2201              	tiempo_calc:
 2202 0020 00000000 		.space	4
 2203              		.align	2
 2204              	tiempo_total:
 2205 0024 00000000 		.space	4
 2206              		.align	2
 2207              	tiempo_pv:
 2208 0028 00000000 		.space	4
 2209              		.align	2
 2210              	veces_pv:
 2211 002c 00000000 		.space	4
 2212              		.text
 2213              		.align	2
 2214              		.global	inicializar_jugada_botones
 2216              	inicializar_jugada_botones:
 2217              	.LFB0:
   1:../jugada_por_botones.c **** /*********************************************************************************************
   2:../jugada_por_botones.c **** * Fichero:		jugada_por_botones.c
   3:../jugada_por_botones.c **** * Autor:		Pedro José Pérez García (756642) y Fernando Peña Bes (756012)
   4:../jugada_por_botones.c **** * Descrip:		Máquina de estados que gestiona la lógica del juego reversi.
   5:../jugada_por_botones.c **** * 				Las rutinas llamadas desde reversi_main invocan la función del autómata,
   6:../jugada_por_botones.c **** *				que comprueba si debe realizar alguna acción o no.
   7:../jugada_por_botones.c **** * Version:		
   8:../jugada_por_botones.c **** *********************************************************************************************/
   9:../jugada_por_botones.c **** 
  10:../jugada_por_botones.c **** /*--- ficheros de cabecera ---*/
  11:../jugada_por_botones.c **** #include "led.h"
  12:../jugada_por_botones.c **** #include "44b.h"
  13:../jugada_por_botones.c **** #include "44blib.h"
  14:../jugada_por_botones.c **** #include "botones_antirebotes.h"
  15:../jugada_por_botones.c **** #include "8led.h"
  16:../jugada_por_botones.c **** #include "button.h"
  17:../jugada_por_botones.c **** #include "codigos_eventos.h"
  18:../jugada_por_botones.c **** #include "reversi8_2019.h"
  19:../jugada_por_botones.c **** #include "jugada_por_botones.h"
  20:../jugada_por_botones.c **** #include "elementos_pantalla.h"
  21:../jugada_por_botones.c **** #include "definiciones_juego.h"
  22:../jugada_por_botones.c **** #include "lcd.h"						//Se incluye por haciendo_DMA, como nos ha dicho Darío
  23:../jugada_por_botones.c **** /*--- variables del módulo ---*/
  24:../jugada_por_botones.c **** 
  25:../jugada_por_botones.c **** static enum estados{Reglas, Jugando, Fin} jugada_botones;
  26:../jugada_por_botones.c **** static int ev_bot_izq = 0;			//Indica cuándo hay que  actualizar el valor que aparece en el 8led, p
  27:../jugada_por_botones.c **** static int ev_bot_der = 0;			//Flag que señaliza cuándo han pulsado el botón derecho, y cuántas vec
  28:../jugada_por_botones.c **** static int ev_tp = 0;				//Indica que hay que atender un toque del touchpad de alguien
  29:../jugada_por_botones.c **** static char mi_fila = 0;			//La fila donde queremos poner ficha
  30:../jugada_por_botones.c **** static char mi_columna = 0;			//La columna donde queremos poner ficha
  31:../jugada_por_botones.c **** volatile int haciendo_DMA = 0;		//Si estamos haciendo un DMA al LCD
  32:../jugada_por_botones.c **** static int ev_timer = 0;			//Interrupción del timer que indica que hay que refrescar tiempos en pan
  33:../jugada_por_botones.c **** static enum final_partida fin;
  34:../jugada_por_botones.c **** /* PROFILING */
  35:../jugada_por_botones.c **** static int tiempo_calc = 0;
  36:../jugada_por_botones.c **** static int tiempo_total = 0;
  37:../jugada_por_botones.c **** static int tiempo_pv = 0;
  38:../jugada_por_botones.c **** static int veces_pv = 0;
  39:../jugada_por_botones.c **** 
  40:../jugada_por_botones.c **** void inicializar_jugada_botones()
  41:../jugada_por_botones.c **** {
 2218              		.loc 1 41 0
 2219              		.cfi_startproc
 2220              		@ Function supports interworking.
 2221              		@ args = 0, pretend = 0, frame = 0
 2222              		@ frame_needed = 1, uses_anonymous_args = 0
 2223 0000 0DC0A0E1 		mov	ip, sp
 2224              	.LCFI0:
 2225              		.cfi_def_cfa_register 12
 2226 0004 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2227 0008 04B04CE2 		sub	fp, ip, #4
 2228              		.cfi_offset 14, -8
 2229              		.cfi_offset 13, -12
 2230              		.cfi_offset 11, -16
 2231              	.LCFI1:
 2232              		.cfi_def_cfa 11, 4
  42:../jugada_por_botones.c **** 	reversi8_inicializar();
 2233              		.loc 1 42 0
 2234 000c FEFFFFEB 		bl	reversi8_inicializar
  43:../jugada_por_botones.c **** 	haciendo_DMA = 1;
 2235              		.loc 1 43 0
 2236 0010 A4309FE5 		ldr	r3, .L2
 2237 0014 0120A0E3 		mov	r2, #1
 2238 0018 002083E5 		str	r2, [r3, #0]
  44:../jugada_por_botones.c **** 	mi_fila = 0;
 2239              		.loc 1 44 0
 2240 001c 9C309FE5 		ldr	r3, .L2+4
 2241 0020 0020A0E3 		mov	r2, #0
 2242 0024 0020C3E5 		strb	r2, [r3, #0]
  45:../jugada_por_botones.c **** 	mi_columna = 0;
 2243              		.loc 1 45 0
 2244 0028 94309FE5 		ldr	r3, .L2+8
 2245 002c 0020A0E3 		mov	r2, #0
 2246 0030 0020C3E5 		strb	r2, [r3, #0]
  46:../jugada_por_botones.c **** 	ev_bot_izq = 0;
 2247              		.loc 1 46 0
 2248 0034 8C309FE5 		ldr	r3, .L2+12
 2249 0038 0020A0E3 		mov	r2, #0
 2250 003c 002083E5 		str	r2, [r3, #0]
  47:../jugada_por_botones.c **** 	ev_bot_der = 0;
 2251              		.loc 1 47 0
 2252 0040 84309FE5 		ldr	r3, .L2+16
 2253 0044 0020A0E3 		mov	r2, #0
 2254 0048 002083E5 		str	r2, [r3, #0]
  48:../jugada_por_botones.c **** 	ev_tp = 0;
 2255              		.loc 1 48 0
 2256 004c 7C309FE5 		ldr	r3, .L2+20
 2257 0050 0020A0E3 		mov	r2, #0
 2258 0054 002083E5 		str	r2, [r3, #0]
  49:../jugada_por_botones.c **** 	ev_timer = 0;
 2259              		.loc 1 49 0
 2260 0058 74309FE5 		ldr	r3, .L2+24
 2261 005c 0020A0E3 		mov	r2, #0
 2262 0060 002083E5 		str	r2, [r3, #0]
  50:../jugada_por_botones.c **** 	fin = no_fin;
 2263              		.loc 1 50 0
 2264 0064 6C309FE5 		ldr	r3, .L2+28
 2265 0068 0020A0E3 		mov	r2, #0
 2266 006c 0020C3E5 		strb	r2, [r3, #0]
  51:../jugada_por_botones.c **** 	tiempo_calc = 0;
 2267              		.loc 1 51 0
 2268 0070 64309FE5 		ldr	r3, .L2+32
 2269 0074 0020A0E3 		mov	r2, #0
 2270 0078 002083E5 		str	r2, [r3, #0]
  52:../jugada_por_botones.c **** 	tiempo_total = 0;
 2271              		.loc 1 52 0
 2272 007c 5C309FE5 		ldr	r3, .L2+36
 2273 0080 0020A0E3 		mov	r2, #0
 2274 0084 002083E5 		str	r2, [r3, #0]
  53:../jugada_por_botones.c **** 	tiempo_pv = 0;
 2275              		.loc 1 53 0
 2276 0088 54309FE5 		ldr	r3, .L2+40
 2277 008c 0020A0E3 		mov	r2, #0
 2278 0090 002083E5 		str	r2, [r3, #0]
  54:../jugada_por_botones.c **** 	veces_pv = 0;
 2279              		.loc 1 54 0
 2280 0094 4C309FE5 		ldr	r3, .L2+44
 2281 0098 0020A0E3 		mov	r2, #0
 2282 009c 002083E5 		str	r2, [r3, #0]
  55:../jugada_por_botones.c **** 	jugada_botones = Reglas;
 2283              		.loc 1 55 0
 2284 00a0 44309FE5 		ldr	r3, .L2+48
 2285 00a4 0020A0E3 		mov	r2, #0
 2286 00a8 0020C3E5 		strb	r2, [r3, #0]
  56:../jugada_por_botones.c **** 	//Poner pantalla de reglas por DMA
  57:../jugada_por_botones.c **** 	pintar_reglas();
 2287              		.loc 1 57 0
 2288 00ac FEFFFFEB 		bl	pintar_reglas
  58:../jugada_por_botones.c **** }
 2289              		.loc 1 58 0
 2290 00b0 0CD04BE2 		sub	sp, fp, #12
 2291 00b4 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2292 00b8 1EFF2FE1 		bx	lr
 2293              	.L3:
 2294              		.align	2
 2295              	.L2:
 2296 00bc 00000000 		.word	haciendo_DMA
 2297 00c0 10000000 		.word	mi_fila
 2298 00c4 11000000 		.word	mi_columna
 2299 00c8 04000000 		.word	ev_bot_izq
 2300 00cc 08000000 		.word	ev_bot_der
 2301 00d0 0C000000 		.word	ev_tp
 2302 00d4 18000000 		.word	ev_timer
 2303 00d8 1C000000 		.word	fin
 2304 00dc 20000000 		.word	tiempo_calc
 2305 00e0 24000000 		.word	tiempo_total
 2306 00e4 28000000 		.word	tiempo_pv
 2307 00e8 2C000000 		.word	veces_pv
 2308 00ec 00000000 		.word	jugada_botones
 2309              		.cfi_endproc
 2310              	.LFE0:
 2312              		.align	2
 2313              		.global	jugada_por_botones
 2315              	jugada_por_botones:
 2316              	.LFB1:
  59:../jugada_por_botones.c **** 
  60:../jugada_por_botones.c **** void jugada_por_botones()
  61:../jugada_por_botones.c **** {
 2317              		.loc 1 61 0
 2318              		.cfi_startproc
 2319              		@ Function supports interworking.
 2320              		@ args = 0, pretend = 0, frame = 16
 2321              		@ frame_needed = 1, uses_anonymous_args = 0
 2322 00f0 0DC0A0E1 		mov	ip, sp
 2323              	.LCFI2:
 2324              		.cfi_def_cfa_register 12
 2325 00f4 10D82DE9 		stmfd	sp!, {r4, fp, ip, lr, pc}
 2326 00f8 04B04CE2 		sub	fp, ip, #4
 2327              		.cfi_offset 14, -8
 2328              		.cfi_offset 13, -12
 2329              		.cfi_offset 11, -16
 2330              		.cfi_offset 4, -20
 2331              	.LCFI3:
 2332              		.cfi_def_cfa 11, 4
 2333 00fc 14D04DE2 		sub	sp, sp, #20
  62:../jugada_por_botones.c **** 	switch(jugada_botones)
 2334              		.loc 1 62 0
 2335 0100 F8349FE5 		ldr	r3, .L36
 2336 0104 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2337 0108 000053E3 		cmp	r3, #0
 2338 010c 0200000A 		beq	.L6
 2339 0110 010053E3 		cmp	r3, #1
 2340 0114 2100000A 		beq	.L7
 2341 0118 200100EA 		b	.L27
 2342              	.L6:
  63:../jugada_por_botones.c **** 	{
  64:../jugada_por_botones.c **** 	case Reglas:
  65:../jugada_por_botones.c **** 		if(ev_bot_der > 0)
 2343              		.loc 1 65 0
 2344 011c E0349FE5 		ldr	r3, .L36+4
 2345 0120 003093E5 		ldr	r3, [r3, #0]
 2346 0124 000053E3 		cmp	r3, #0
 2347 0128 020000DA 		ble	.L8
  66:../jugada_por_botones.c **** 		{
  67:../jugada_por_botones.c **** 			ev_bot_der = 0;
 2348              		.loc 1 67 0
 2349 012c D0349FE5 		ldr	r3, .L36+4
 2350 0130 0020A0E3 		mov	r2, #0
 2351 0134 002083E5 		str	r2, [r3, #0]
 2352              	.L8:
  68:../jugada_por_botones.c **** 		}
  69:../jugada_por_botones.c **** 		if(ev_bot_izq > 0)
 2353              		.loc 1 69 0
 2354 0138 C8349FE5 		ldr	r3, .L36+8
 2355 013c 003093E5 		ldr	r3, [r3, #0]
 2356 0140 000053E3 		cmp	r3, #0
 2357 0144 020000DA 		ble	.L9
  70:../jugada_por_botones.c **** 		{
  71:../jugada_por_botones.c **** 			ev_bot_izq = 0;
 2358              		.loc 1 71 0
 2359 0148 B8349FE5 		ldr	r3, .L36+8
 2360 014c 0020A0E3 		mov	r2, #0
 2361 0150 002083E5 		str	r2, [r3, #0]
 2362              	.L9:
  72:../jugada_por_botones.c **** 		}
  73:../jugada_por_botones.c **** 		if(ev_tp == 1)
 2363              		.loc 1 73 0
 2364 0154 B0349FE5 		ldr	r3, .L36+12
 2365 0158 003093E5 		ldr	r3, [r3, #0]
 2366 015c 010053E3 		cmp	r3, #1
 2367 0160 1801001A 		bne	.L28
  74:../jugada_por_botones.c **** 		{
  75:../jugada_por_botones.c **** 			ev_tp = 0;
 2368              		.loc 1 75 0
 2369 0164 A0349FE5 		ldr	r3, .L36+12
 2370 0168 0020A0E3 		mov	r2, #0
 2371 016c 002083E5 		str	r2, [r3, #0]
  76:../jugada_por_botones.c **** 			if(haciendo_DMA == 0)
 2372              		.loc 1 76 0
 2373 0170 98349FE5 		ldr	r3, .L36+16
 2374 0174 003093E5 		ldr	r3, [r3, #0]
 2375 0178 000053E3 		cmp	r3, #0
 2376 017c 1301001A 		bne	.L29
  77:../jugada_por_botones.c **** 			{
  78:../jugada_por_botones.c **** 				haciendo_DMA = 1;
 2377              		.loc 1 78 0
 2378 0180 88349FE5 		ldr	r3, .L36+16
 2379 0184 0120A0E3 		mov	r2, #1
 2380 0188 002083E5 		str	r2, [r3, #0]
  79:../jugada_por_botones.c **** 				jugada_botones = Jugando;
 2381              		.loc 1 79 0
 2382 018c 6C349FE5 		ldr	r3, .L36
 2383 0190 0120A0E3 		mov	r2, #1
 2384 0194 0020C3E5 		strb	r2, [r3, #0]
  80:../jugada_por_botones.c **** 				pintar_jugando();
 2385              		.loc 1 80 0
 2386 0198 FEFFFFEB 		bl	pintar_jugando
  81:../jugada_por_botones.c **** 			}
  82:../jugada_por_botones.c **** 		}
  83:../jugada_por_botones.c **** 		break;
 2387              		.loc 1 83 0
 2388 019c 140100EA 		b	.L4
 2389              	.L7:
  84:../jugada_por_botones.c **** 	case Jugando:
  85:../jugada_por_botones.c **** 		if(ev_bot_der == 1)		//Incrementar fila
 2390              		.loc 1 85 0
 2391 01a0 5C349FE5 		ldr	r3, .L36+4
 2392 01a4 003093E5 		ldr	r3, [r3, #0]
 2393 01a8 010053E3 		cmp	r3, #1
 2394 01ac 3500001A 		bne	.L12
 2395              	.LBB2:
  86:../jugada_por_botones.c **** 		{
  87:../jugada_por_botones.c **** 			ev_bot_der = 0;
 2396              		.loc 1 87 0
 2397 01b0 4C349FE5 		ldr	r3, .L36+4
 2398 01b4 0020A0E3 		mov	r2, #0
 2399 01b8 002083E5 		str	r2, [r3, #0]
  88:../jugada_por_botones.c **** 			int aux = mi_fila;
 2400              		.loc 1 88 0
 2401 01bc 50349FE5 		ldr	r3, .L36+20
 2402 01c0 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2403 01c4 18300BE5 		str	r3, [fp, #-24]
 2404              	.L14:
  89:../jugada_por_botones.c **** 			do
  90:../jugada_por_botones.c **** 			{
  91:../jugada_por_botones.c **** 				mi_fila = ((mi_fila + 1) & 0x7);			//8 porque hay 8 columnas en el tablero, [0-7], 0x7 = num_co
 2405              		.loc 1 91 0 discriminator 1
 2406 01c8 44349FE5 		ldr	r3, .L36+20
 2407 01cc 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2408 01d0 013083E2 		add	r3, r3, #1
 2409 01d4 FF3003E2 		and	r3, r3, #255
 2410 01d8 073003E2 		and	r3, r3, #7
 2411 01dc FF2003E2 		and	r2, r3, #255
 2412 01e0 2C349FE5 		ldr	r3, .L36+20
 2413 01e4 0020C3E5 		strb	r2, [r3, #0]
  92:../jugada_por_botones.c **** 			}
  93:../jugada_por_botones.c **** 			while((obtener_ficha_en(mi_fila, mi_columna) != CASILLA_VACIA) && (obtener_ficha_en(mi_fila, mi_
 2414              		.loc 1 93 0 discriminator 1
 2415 01e8 24349FE5 		ldr	r3, .L36+20
 2416 01ec 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2417 01f0 0320A0E1 		mov	r2, r3
 2418 01f4 1C349FE5 		ldr	r3, .L36+24
 2419 01f8 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2420 01fc 0200A0E1 		mov	r0, r2
 2421 0200 0310A0E1 		mov	r1, r3
 2422 0204 FEFFFFEB 		bl	obtener_ficha_en
 2423 0208 0030A0E1 		mov	r3, r0
 2424 020c 000053E3 		cmp	r3, #0
 2425 0210 0B00000A 		beq	.L30
 2426 0214 F8339FE5 		ldr	r3, .L36+20
 2427 0218 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2428 021c 0320A0E1 		mov	r2, r3
 2429 0220 F0339FE5 		ldr	r3, .L36+24
 2430 0224 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2431 0228 0200A0E1 		mov	r0, r2
 2432 022c 0310A0E1 		mov	r1, r3
 2433 0230 FEFFFFEB 		bl	obtener_ficha_en
 2434 0234 0030A0E1 		mov	r3, r0
 2435 0238 030053E3 		cmp	r3, #3
 2436 023c E1FFFF1A 		bne	.L14
  94:../jugada_por_botones.c **** 
  95:../jugada_por_botones.c **** 			while(haciendo_DMA != 0)
 2437              		.loc 1 95 0
 2438 0240 000000EA 		b	.L15
 2439              	.L30:
 2440 0244 0000A0E1 		mov	r0, r0	@ nop
 2441              	.L15:
 2442              		.loc 1 95 0 is_stmt 0 discriminator 1
 2443 0248 C0339FE5 		ldr	r3, .L36+16
 2444 024c 003093E5 		ldr	r3, [r3, #0]
 2445 0250 000053E3 		cmp	r3, #0
 2446 0254 FBFFFF1A 		bne	.L15
  96:../jugada_por_botones.c **** 			{
  97:../jugada_por_botones.c **** 			}
  98:../jugada_por_botones.c **** 			haciendo_DMA = 1;
 2447              		.loc 1 98 0 is_stmt 1
 2448 0258 B0339FE5 		ldr	r3, .L36+16
 2449 025c 0120A0E3 		mov	r2, #1
 2450 0260 002083E5 		str	r2, [r3, #0]
  99:../jugada_por_botones.c **** 			//DMA act ficha gris
 100:../jugada_por_botones.c **** 			mover_gris_abajo(mi_fila, mi_columna, aux);		//Mover en la pantalla
 2451              		.loc 1 100 0
 2452 0264 A8339FE5 		ldr	r3, .L36+20
 2453 0268 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2454 026c 0320A0E1 		mov	r2, r3
 2455 0270 A0339FE5 		ldr	r3, .L36+24
 2456 0274 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2457 0278 0200A0E1 		mov	r0, r2
 2458 027c 0310A0E1 		mov	r1, r3
 2459 0280 18201BE5 		ldr	r2, [fp, #-24]
 2460 0284 FEFFFFEB 		bl	mover_gris_abajo
 2461              	.L12:
 2462              	.LBE2:
 101:../jugada_por_botones.c **** 		}
 102:../jugada_por_botones.c **** 		if(ev_bot_izq == 1)		//Incrementar columna
 2463              		.loc 1 102 0
 2464 0288 78339FE5 		ldr	r3, .L36+8
 2465 028c 003093E5 		ldr	r3, [r3, #0]
 2466 0290 010053E3 		cmp	r3, #1
 2467 0294 3500001A 		bne	.L16
 2468              	.LBB3:
 103:../jugada_por_botones.c **** 		{
 104:../jugada_por_botones.c **** 			ev_bot_izq = 0;
 2469              		.loc 1 104 0
 2470 0298 68339FE5 		ldr	r3, .L36+8
 2471 029c 0020A0E3 		mov	r2, #0
 2472 02a0 002083E5 		str	r2, [r3, #0]
 105:../jugada_por_botones.c **** 			int aux = mi_columna;
 2473              		.loc 1 105 0
 2474 02a4 6C339FE5 		ldr	r3, .L36+24
 2475 02a8 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2476 02ac 1C300BE5 		str	r3, [fp, #-28]
 2477              	.L18:
 106:../jugada_por_botones.c **** 			do
 107:../jugada_por_botones.c **** 			{
 108:../jugada_por_botones.c **** 				mi_columna = ((mi_columna + 1) & 0x7);		//8 porque hay 8 columnas en el tablero, [0-7], 0x7 = n
 2478              		.loc 1 108 0 discriminator 1
 2479 02b0 60339FE5 		ldr	r3, .L36+24
 2480 02b4 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2481 02b8 013083E2 		add	r3, r3, #1
 2482 02bc FF3003E2 		and	r3, r3, #255
 2483 02c0 073003E2 		and	r3, r3, #7
 2484 02c4 FF2003E2 		and	r2, r3, #255
 2485 02c8 48339FE5 		ldr	r3, .L36+24
 2486 02cc 0020C3E5 		strb	r2, [r3, #0]
 109:../jugada_por_botones.c **** 			}
 110:../jugada_por_botones.c **** 			while((obtener_ficha_en(mi_fila, mi_columna) != CASILLA_VACIA) && (obtener_ficha_en(mi_fila, mi_
 2487              		.loc 1 110 0 discriminator 1
 2488 02d0 3C339FE5 		ldr	r3, .L36+20
 2489 02d4 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2490 02d8 0320A0E1 		mov	r2, r3
 2491 02dc 34339FE5 		ldr	r3, .L36+24
 2492 02e0 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2493 02e4 0200A0E1 		mov	r0, r2
 2494 02e8 0310A0E1 		mov	r1, r3
 2495 02ec FEFFFFEB 		bl	obtener_ficha_en
 2496 02f0 0030A0E1 		mov	r3, r0
 2497 02f4 000053E3 		cmp	r3, #0
 2498 02f8 0B00000A 		beq	.L31
 2499 02fc 10339FE5 		ldr	r3, .L36+20
 2500 0300 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2501 0304 0320A0E1 		mov	r2, r3
 2502 0308 08339FE5 		ldr	r3, .L36+24
 2503 030c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2504 0310 0200A0E1 		mov	r0, r2
 2505 0314 0310A0E1 		mov	r1, r3
 2506 0318 FEFFFFEB 		bl	obtener_ficha_en
 2507 031c 0030A0E1 		mov	r3, r0
 2508 0320 030053E3 		cmp	r3, #3
 2509 0324 E1FFFF1A 		bne	.L18
 111:../jugada_por_botones.c **** 
 112:../jugada_por_botones.c **** 			while(haciendo_DMA != 0)		//TODO espera activa que nos ha dicho dario, retrasamos llegar a ella 
 2510              		.loc 1 112 0
 2511 0328 000000EA 		b	.L19
 2512              	.L31:
 2513 032c 0000A0E1 		mov	r0, r0	@ nop
 2514              	.L19:
 2515              		.loc 1 112 0 is_stmt 0 discriminator 1
 2516 0330 D8329FE5 		ldr	r3, .L36+16
 2517 0334 003093E5 		ldr	r3, [r3, #0]
 2518 0338 000053E3 		cmp	r3, #0
 2519 033c FBFFFF1A 		bne	.L19
 113:../jugada_por_botones.c **** 			{								//	pero con -O3 creo que esto va a dar dolor de cabeza
 114:../jugada_por_botones.c **** 			}
 115:../jugada_por_botones.c **** 			haciendo_DMA = 1;
 2520              		.loc 1 115 0 is_stmt 1
 2521 0340 C8329FE5 		ldr	r3, .L36+16
 2522 0344 0120A0E3 		mov	r2, #1
 2523 0348 002083E5 		str	r2, [r3, #0]
 116:../jugada_por_botones.c **** 			//DMA act ficha gris
 117:../jugada_por_botones.c **** 			mover_gris_derecha(mi_fila, mi_columna, aux);	//Mover en la pantalla
 2524              		.loc 1 117 0
 2525 034c C0329FE5 		ldr	r3, .L36+20
 2526 0350 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2527 0354 0320A0E1 		mov	r2, r3
 2528 0358 B8329FE5 		ldr	r3, .L36+24
 2529 035c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2530 0360 0200A0E1 		mov	r0, r2
 2531 0364 0310A0E1 		mov	r1, r3
 2532 0368 1C201BE5 		ldr	r2, [fp, #-28]
 2533 036c FEFFFFEB 		bl	mover_gris_derecha
 2534              	.L16:
 2535              	.LBE3:
 118:../jugada_por_botones.c **** 		}
 119:../jugada_por_botones.c **** 		if(haciendo_DMA == 0 && ev_timer > 0)
 2536              		.loc 1 119 0
 2537 0370 98329FE5 		ldr	r3, .L36+16
 2538 0374 003093E5 		ldr	r3, [r3, #0]
 2539 0378 000053E3 		cmp	r3, #0
 2540 037c 1A00001A 		bne	.L20
 2541              		.loc 1 119 0 is_stmt 0 discriminator 1
 2542 0380 94329FE5 		ldr	r3, .L36+28
 2543 0384 003093E5 		ldr	r3, [r3, #0]
 2544 0388 000053E3 		cmp	r3, #0
 2545 038c 160000DA 		ble	.L20
 120:../jugada_por_botones.c **** 		{
 121:../jugada_por_botones.c **** 			ev_timer--;
 2546              		.loc 1 121 0 is_stmt 1
 2547 0390 84329FE5 		ldr	r3, .L36+28
 2548 0394 003093E5 		ldr	r3, [r3, #0]
 2549 0398 012043E2 		sub	r2, r3, #1
 2550 039c 78329FE5 		ldr	r3, .L36+28
 2551 03a0 002083E5 		str	r2, [r3, #0]
 122:../jugada_por_botones.c **** 			//Actualizar tiempo total
 123:../jugada_por_botones.c **** 			tiempo_total++;
 2552              		.loc 1 123 0
 2553 03a4 74329FE5 		ldr	r3, .L36+32
 2554 03a8 003093E5 		ldr	r3, [r3, #0]
 2555 03ac 012083E2 		add	r2, r3, #1
 2556 03b0 68329FE5 		ldr	r3, .L36+32
 2557 03b4 002083E5 		str	r2, [r3, #0]
 124:../jugada_por_botones.c **** 			//DMA act pantalla con nuevos tiempos
 125:../jugada_por_botones.c **** 			pintar_profiling(tiempo_total, tiempo_calc, tiempo_pv, veces_pv);
 2558              		.loc 1 125 0
 2559 03b8 60329FE5 		ldr	r3, .L36+32
 2560 03bc 000093E5 		ldr	r0, [r3, #0]
 2561 03c0 5C329FE5 		ldr	r3, .L36+36
 2562 03c4 001093E5 		ldr	r1, [r3, #0]
 2563 03c8 58329FE5 		ldr	r3, .L36+40
 2564 03cc 002093E5 		ldr	r2, [r3, #0]
 2565 03d0 54329FE5 		ldr	r3, .L36+44
 2566 03d4 003093E5 		ldr	r3, [r3, #0]
 2567 03d8 FEFFFFEB 		bl	pintar_profiling
 126:../jugada_por_botones.c **** 			haciendo_DMA = 1;
 2568              		.loc 1 126 0
 2569 03dc 2C329FE5 		ldr	r3, .L36+16
 2570 03e0 0120A0E3 		mov	r2, #1
 2571 03e4 002083E5 		str	r2, [r3, #0]
 127:../jugada_por_botones.c **** 			iniciar_DMA();
 2572              		.loc 1 127 0
 2573 03e8 FEFFFFEB 		bl	iniciar_DMA
 2574              	.L20:
 128:../jugada_por_botones.c **** 		}
 129:../jugada_por_botones.c **** 		if(ev_tp == 1)
 2575              		.loc 1 129 0
 2576 03ec 18329FE5 		ldr	r3, .L36+12
 2577 03f0 003093E5 		ldr	r3, [r3, #0]
 2578 03f4 010053E3 		cmp	r3, #1
 2579 03f8 3A00001A 		bne	.L21
 130:../jugada_por_botones.c **** 		{
 131:../jugada_por_botones.c **** 			ev_tp = 0;
 2580              		.loc 1 131 0
 2581 03fc 08329FE5 		ldr	r3, .L36+12
 2582 0400 0020A0E3 		mov	r2, #0
 2583 0404 002083E5 		str	r2, [r3, #0]
 132:../jugada_por_botones.c **** 			if(haciendo_DMA == 0)
 2584              		.loc 1 132 0
 2585 0408 00329FE5 		ldr	r3, .L36+16
 2586 040c 003093E5 		ldr	r3, [r3, #0]
 2587 0410 000053E3 		cmp	r3, #0
 2588 0414 3300001A 		bne	.L21
 2589              	.LBB4:
 133:../jugada_por_botones.c **** 			{
 134:../jugada_por_botones.c **** 				unsigned int delta1 = timer2_leer();
 2590              		.loc 1 134 0
 2591 0418 FEFFFFEB 		bl	timer2_leer
 2592 041c 20000BE5 		str	r0, [fp, #-32]
 135:../jugada_por_botones.c **** 				reversi_procesar(mi_fila, mi_columna);
 2593              		.loc 1 135 0
 2594 0420 EC319FE5 		ldr	r3, .L36+20
 2595 0424 0020D3E5 		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2596 0428 E8319FE5 		ldr	r3, .L36+24
 2597 042c 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2598 0430 0200A0E1 		mov	r0, r2
 2599 0434 0310A0E1 		mov	r1, r3
 2600 0438 FEFFFFEB 		bl	reversi_procesar
 136:../jugada_por_botones.c **** 				unsigned int delta2 = timer2_leer();
 2601              		.loc 1 136 0
 2602 043c FEFFFFEB 		bl	timer2_leer
 2603 0440 24000BE5 		str	r0, [fp, #-36]
 137:../jugada_por_botones.c **** 				tiempo_calc += (delta2-delta1);
 2604              		.loc 1 137 0
 2605 0444 24201BE5 		ldr	r2, [fp, #-36]
 2606 0448 20301BE5 		ldr	r3, [fp, #-32]
 2607 044c 022063E0 		rsb	r2, r3, r2
 2608 0450 CC319FE5 		ldr	r3, .L36+36
 2609 0454 003093E5 		ldr	r3, [r3, #0]
 2610 0458 033082E0 		add	r3, r2, r3
 2611 045c 0320A0E1 		mov	r2, r3
 2612 0460 BC319FE5 		ldr	r3, .L36+36
 2613 0464 002083E5 		str	r2, [r3, #0]
 138:../jugada_por_botones.c **** 				//obtener datos de profiling
 139:../jugada_por_botones.c **** 				tiempo_pv += reversi_t_pv();	//TODO
 2614              		.loc 1 139 0
 2615 0468 FEFFFFEB 		bl	reversi_t_pv
 2616 046c 0020A0E1 		mov	r2, r0
 2617 0470 B0319FE5 		ldr	r3, .L36+40
 2618 0474 003093E5 		ldr	r3, [r3, #0]
 2619 0478 032082E0 		add	r2, r2, r3
 2620 047c A4319FE5 		ldr	r3, .L36+40
 2621 0480 002083E5 		str	r2, [r3, #0]
 140:../jugada_por_botones.c **** 				veces_pv += reversi_veces_pv();
 2622              		.loc 1 140 0
 2623 0484 FEFFFFEB 		bl	reversi_veces_pv
 2624 0488 0020A0E1 		mov	r2, r0
 2625 048c 98319FE5 		ldr	r3, .L36+44
 2626 0490 003093E5 		ldr	r3, [r3, #0]
 2627 0494 032082E0 		add	r2, r2, r3
 2628 0498 8C319FE5 		ldr	r3, .L36+44
 2629 049c 002083E5 		str	r2, [r3, #0]
 141:../jugada_por_botones.c **** 				pintar_profiling(tiempo_total, tiempo_calc, tiempo_pv, veces_pv);
 2630              		.loc 1 141 0
 2631 04a0 78319FE5 		ldr	r3, .L36+32
 2632 04a4 000093E5 		ldr	r0, [r3, #0]
 2633 04a8 74319FE5 		ldr	r3, .L36+36
 2634 04ac 001093E5 		ldr	r1, [r3, #0]
 2635 04b0 70319FE5 		ldr	r3, .L36+40
 2636 04b4 002093E5 		ldr	r2, [r3, #0]
 2637 04b8 6C319FE5 		ldr	r3, .L36+44
 2638 04bc 003093E5 		ldr	r3, [r3, #0]
 2639 04c0 FEFFFFEB 		bl	pintar_profiling
 142:../jugada_por_botones.c **** 				//for con fichas MODIFICADAS
 143:../jugada_por_botones.c **** 				//pintar_ficha()
 144:../jugada_por_botones.c **** 				haciendo_DMA = 1;
 2640              		.loc 1 144 0
 2641 04c4 44319FE5 		ldr	r3, .L36+16
 2642 04c8 0120A0E3 		mov	r2, #1
 2643 04cc 002083E5 		str	r2, [r3, #0]
 145:../jugada_por_botones.c **** 				iniciar_DMA();
 2644              		.loc 1 145 0
 2645 04d0 FEFFFFEB 		bl	iniciar_DMA
 146:../jugada_por_botones.c **** 				fin = obtener_fin();
 2646              		.loc 1 146 0
 2647 04d4 FEFFFFEB 		bl	obtener_fin
 2648 04d8 0030A0E1 		mov	r3, r0
 2649 04dc 0320A0E1 		mov	r2, r3
 2650 04e0 48319FE5 		ldr	r3, .L36+48
 2651 04e4 0020C3E5 		strb	r2, [r3, #0]
 2652              	.L21:
 2653              	.LBE4:
 147:../jugada_por_botones.c **** 			}
 148:../jugada_por_botones.c **** 		}
 149:../jugada_por_botones.c **** 		if(haciendo_DMA == 0 && fin != no_fin)
 2654              		.loc 1 149 0
 2655 04e8 20319FE5 		ldr	r3, .L36+16
 2656 04ec 003093E5 		ldr	r3, [r3, #0]
 2657 04f0 000053E3 		cmp	r3, #0
 2658 04f4 3700001A 		bne	.L32
 2659              		.loc 1 149 0 is_stmt 0 discriminator 1
 2660 04f8 30319FE5 		ldr	r3, .L36+48
 2661 04fc 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2662 0500 000053E3 		cmp	r3, #0
 2663 0504 3500000A 		beq	.L33
 150:../jugada_por_botones.c **** 		{
 151:../jugada_por_botones.c **** 			haciendo_DMA = 1;
 2664              		.loc 1 151 0 is_stmt 1
 2665 0508 00319FE5 		ldr	r3, .L36+16
 2666 050c 0120A0E3 		mov	r2, #1
 2667 0510 002083E5 		str	r2, [r3, #0]
 152:../jugada_por_botones.c **** 			if(fin == jugador_gana)
 2668              		.loc 1 152 0
 2669 0514 14319FE5 		ldr	r3, .L36+48
 2670 0518 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2671 051c 010053E3 		cmp	r3, #1
 2672 0520 0700001A 		bne	.L23
 153:../jugada_por_botones.c **** 			{
 154:../jugada_por_botones.c **** 				pintar_fin_victoria(contar_blancas(), contar_negras());
 2673              		.loc 1 154 0
 2674 0524 FEFFFFEB 		bl	contar_blancas
 2675 0528 0040A0E1 		mov	r4, r0
 2676 052c FEFFFFEB 		bl	contar_negras
 2677 0530 0030A0E1 		mov	r3, r0
 2678 0534 0400A0E1 		mov	r0, r4
 2679 0538 0310A0E1 		mov	r1, r3
 2680 053c FEFFFFEB 		bl	pintar_fin_victoria
 2681 0540 120000EA 		b	.L24
 2682              	.L23:
 155:../jugada_por_botones.c **** 			}
 156:../jugada_por_botones.c **** 			else if(fin == cpu_gana)
 2683              		.loc 1 156 0
 2684 0544 E4309FE5 		ldr	r3, .L36+48
 2685 0548 0030D3E5 		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2686 054c 020053E3 		cmp	r3, #2
 2687 0550 0700001A 		bne	.L25
 157:../jugada_por_botones.c **** 			{
 158:../jugada_por_botones.c **** 				pintar_fin_derrota(contar_blancas(), contar_negras());
 2688              		.loc 1 158 0
 2689 0554 FEFFFFEB 		bl	contar_blancas
 2690 0558 0040A0E1 		mov	r4, r0
 2691 055c FEFFFFEB 		bl	contar_negras
 2692 0560 0030A0E1 		mov	r3, r0
 2693 0564 0400A0E1 		mov	r0, r4
 2694 0568 0310A0E1 		mov	r1, r3
 2695 056c FEFFFFEB 		bl	pintar_fin_derrota
 2696 0570 060000EA 		b	.L24
 2697              	.L25:
 159:../jugada_por_botones.c **** 			}
 160:../jugada_por_botones.c **** 			else	//En caso de empate
 161:../jugada_por_botones.c **** 			{
 162:../jugada_por_botones.c **** 				pintar_fin_empate(contar_blancas(), contar_negras());		//TODO
 2698              		.loc 1 162 0
 2699 0574 FEFFFFEB 		bl	contar_blancas
 2700 0578 0040A0E1 		mov	r4, r0
 2701 057c FEFFFFEB 		bl	contar_negras
 2702 0580 0030A0E1 		mov	r3, r0
 2703 0584 0400A0E1 		mov	r0, r4
 2704 0588 0310A0E1 		mov	r1, r3
 2705 058c FEFFFFEB 		bl	pintar_fin_empate
 2706              	.L24:
 163:../jugada_por_botones.c **** 			}
 164:../jugada_por_botones.c **** 			jugada_botones = Fin;
 2707              		.loc 1 164 0
 2708 0590 68309FE5 		ldr	r3, .L36
 2709 0594 0220A0E3 		mov	r2, #2
 2710 0598 0020C3E5 		strb	r2, [r3, #0]
 165:../jugada_por_botones.c **** 		}
 166:../jugada_por_botones.c **** 		break;
 2711              		.loc 1 166 0
 2712 059c 140000EA 		b	.L4
 2713              	.L27:
 167:../jugada_por_botones.c **** 	default:	//case Fin
 168:../jugada_por_botones.c **** 		if(haciendo_DMA == 0 && ev_tp == 1)		//Reiniciar partida, restaurando el estado inicial del autóm
 2714              		.loc 1 168 0
 2715 05a0 68309FE5 		ldr	r3, .L36+16
 2716 05a4 003093E5 		ldr	r3, [r3, #0]
 2717 05a8 000053E3 		cmp	r3, #0
 2718 05ac 0D00001A 		bne	.L34
 2719              		.loc 1 168 0 is_stmt 0 discriminator 1
 2720 05b0 54309FE5 		ldr	r3, .L36+12
 2721 05b4 003093E5 		ldr	r3, [r3, #0]
 2722 05b8 010053E3 		cmp	r3, #1
 2723 05bc 0B00001A 		bne	.L35
 169:../jugada_por_botones.c **** 		{
 170:../jugada_por_botones.c **** 			inicializar_jugada_botones();
 2724              		.loc 1 170 0 is_stmt 1
 2725 05c0 FEFFFFEB 		bl	inicializar_jugada_botones
 171:../jugada_por_botones.c **** 		}
 172:../jugada_por_botones.c **** 		break;
 2726              		.loc 1 172 0
 2727 05c4 0A0000EA 		b	.L4
 2728              	.L28:
  83:../jugada_por_botones.c **** 		break;
 2729              		.loc 1 83 0
 2730 05c8 0000A0E1 		mov	r0, r0	@ nop
 2731 05cc 080000EA 		b	.L4
 2732              	.L29:
 2733 05d0 0000A0E1 		mov	r0, r0	@ nop
 2734 05d4 060000EA 		b	.L4
 2735              	.L32:
 166:../jugada_por_botones.c **** 		break;
 2736              		.loc 1 166 0
 2737 05d8 0000A0E1 		mov	r0, r0	@ nop
 2738 05dc 040000EA 		b	.L4
 2739              	.L33:
 2740 05e0 0000A0E1 		mov	r0, r0	@ nop
 2741 05e4 020000EA 		b	.L4
 2742              	.L34:
 2743              		.loc 1 172 0
 2744 05e8 0000A0E1 		mov	r0, r0	@ nop
 2745 05ec 000000EA 		b	.L4
 2746              	.L35:
 2747 05f0 0000A0E1 		mov	r0, r0	@ nop
 2748              	.L4:
 173:../jugada_por_botones.c **** 	}
 174:../jugada_por_botones.c **** }
 2749              		.loc 1 174 0
 2750 05f4 10D04BE2 		sub	sp, fp, #16
 2751 05f8 10689DE8 		ldmfd	sp, {r4, fp, sp, lr}
 2752 05fc 1EFF2FE1 		bx	lr
 2753              	.L37:
 2754              		.align	2
 2755              	.L36:
 2756 0600 00000000 		.word	jugada_botones
 2757 0604 08000000 		.word	ev_bot_der
 2758 0608 04000000 		.word	ev_bot_izq
 2759 060c 0C000000 		.word	ev_tp
 2760 0610 00000000 		.word	haciendo_DMA
 2761 0614 10000000 		.word	mi_fila
 2762 0618 11000000 		.word	mi_columna
 2763 061c 18000000 		.word	ev_timer
 2764 0620 24000000 		.word	tiempo_total
 2765 0624 20000000 		.word	tiempo_calc
 2766 0628 28000000 		.word	tiempo_pv
 2767 062c 2C000000 		.word	veces_pv
 2768 0630 1C000000 		.word	fin
 2769              		.cfi_endproc
 2770              	.LFE1:
 2772              		.align	2
 2773              		.global	jugada_ev_tsp
 2775              	jugada_ev_tsp:
 2776              	.LFB2:
 175:../jugada_por_botones.c **** 
 176:../jugada_por_botones.c **** //Se llama cuando se pulsa en tsp, confirmando la jugada
 177:../jugada_por_botones.c **** void jugada_ev_tsp()
 178:../jugada_por_botones.c **** {
 2777              		.loc 1 178 0
 2778              		.cfi_startproc
 2779              		@ Function supports interworking.
 2780              		@ args = 0, pretend = 0, frame = 0
 2781              		@ frame_needed = 1, uses_anonymous_args = 0
 2782 0634 0DC0A0E1 		mov	ip, sp
 2783              	.LCFI4:
 2784              		.cfi_def_cfa_register 12
 2785 0638 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2786 063c 04B04CE2 		sub	fp, ip, #4
 2787              		.cfi_offset 14, -8
 2788              		.cfi_offset 13, -12
 2789              		.cfi_offset 11, -16
 2790              	.LCFI5:
 2791              		.cfi_def_cfa 11, 4
 179:../jugada_por_botones.c **** 	ev_tp = 1;
 2792              		.loc 1 179 0
 2793 0640 14309FE5 		ldr	r3, .L39
 2794 0644 0120A0E3 		mov	r2, #1
 2795 0648 002083E5 		str	r2, [r3, #0]
 180:../jugada_por_botones.c **** 	jugada_por_botones();
 2796              		.loc 1 180 0
 2797 064c FEFFFFEB 		bl	jugada_por_botones
 181:../jugada_por_botones.c **** }
 2798              		.loc 1 181 0
 2799 0650 0CD04BE2 		sub	sp, fp, #12
 2800 0654 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2801 0658 1EFF2FE1 		bx	lr
 2802              	.L40:
 2803              		.align	2
 2804              	.L39:
 2805 065c 0C000000 		.word	ev_tp
 2806              		.cfi_endproc
 2807              	.LFE2:
 2809              		.align	2
 2810              		.global	jugada_ev_der
 2812              	jugada_ev_der:
 2813              	.LFB3:
 182:../jugada_por_botones.c **** 
 183:../jugada_por_botones.c **** //Se llama cuando el botón derecho es pulsado, para tratar el evento
 184:../jugada_por_botones.c **** void jugada_ev_der()
 185:../jugada_por_botones.c **** {
 2814              		.loc 1 185 0
 2815              		.cfi_startproc
 2816              		@ Function supports interworking.
 2817              		@ args = 0, pretend = 0, frame = 0
 2818              		@ frame_needed = 1, uses_anonymous_args = 0
 2819 0660 0DC0A0E1 		mov	ip, sp
 2820              	.LCFI6:
 2821              		.cfi_def_cfa_register 12
 2822 0664 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2823 0668 04B04CE2 		sub	fp, ip, #4
 2824              		.cfi_offset 14, -8
 2825              		.cfi_offset 13, -12
 2826              		.cfi_offset 11, -16
 2827              	.LCFI7:
 2828              		.cfi_def_cfa 11, 4
 186:../jugada_por_botones.c **** 	ev_bot_der = 1;
 2829              		.loc 1 186 0
 2830 066c 14309FE5 		ldr	r3, .L42
 2831 0670 0120A0E3 		mov	r2, #1
 2832 0674 002083E5 		str	r2, [r3, #0]
 187:../jugada_por_botones.c **** 	jugada_por_botones();
 2833              		.loc 1 187 0
 2834 0678 FEFFFFEB 		bl	jugada_por_botones
 188:../jugada_por_botones.c **** }
 2835              		.loc 1 188 0
 2836 067c 0CD04BE2 		sub	sp, fp, #12
 2837 0680 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2838 0684 1EFF2FE1 		bx	lr
 2839              	.L43:
 2840              		.align	2
 2841              	.L42:
 2842 0688 08000000 		.word	ev_bot_der
 2843              		.cfi_endproc
 2844              	.LFE3:
 2846              		.align	2
 2847              		.global	jugada_ev_izq
 2849              	jugada_ev_izq:
 2850              	.LFB4:
 189:../jugada_por_botones.c **** 
 190:../jugada_por_botones.c **** //Se llama cuando, por autoincremento o por pulsación nueva,
 191:../jugada_por_botones.c **** //	hay que incrementar el valor del 8Led y la variable asociada a él.
 192:../jugada_por_botones.c **** void jugada_ev_izq()
 193:../jugada_por_botones.c **** {
 2851              		.loc 1 193 0
 2852              		.cfi_startproc
 2853              		@ Function supports interworking.
 2854              		@ args = 0, pretend = 0, frame = 0
 2855              		@ frame_needed = 1, uses_anonymous_args = 0
 2856 068c 0DC0A0E1 		mov	ip, sp
 2857              	.LCFI8:
 2858              		.cfi_def_cfa_register 12
 2859 0690 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2860 0694 04B04CE2 		sub	fp, ip, #4
 2861              		.cfi_offset 14, -8
 2862              		.cfi_offset 13, -12
 2863              		.cfi_offset 11, -16
 2864              	.LCFI9:
 2865              		.cfi_def_cfa 11, 4
 194:../jugada_por_botones.c **** 	ev_bot_izq = 1;
 2866              		.loc 1 194 0
 2867 0698 14309FE5 		ldr	r3, .L45
 2868 069c 0120A0E3 		mov	r2, #1
 2869 06a0 002083E5 		str	r2, [r3, #0]
 195:../jugada_por_botones.c **** 	jugada_por_botones();
 2870              		.loc 1 195 0
 2871 06a4 FEFFFFEB 		bl	jugada_por_botones
 196:../jugada_por_botones.c **** }
 2872              		.loc 1 196 0
 2873 06a8 0CD04BE2 		sub	sp, fp, #12
 2874 06ac 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2875 06b0 1EFF2FE1 		bx	lr
 2876              	.L46:
 2877              		.align	2
 2878              	.L45:
 2879 06b4 04000000 		.word	ev_bot_izq
 2880              		.cfi_endproc
 2881              	.LFE4:
 2883              		.align	2
 2884              		.global	jugada_ev_timer
 2886              	jugada_ev_timer:
 2887              	.LFB5:
 197:../jugada_por_botones.c **** //Se llama cuando haya que incrementar la cuenta de tiempo de juego en segundos
 198:../jugada_por_botones.c **** void jugada_ev_timer()
 199:../jugada_por_botones.c **** {
 2888              		.loc 1 199 0
 2889              		.cfi_startproc
 2890              		@ Function supports interworking.
 2891              		@ args = 0, pretend = 0, frame = 0
 2892              		@ frame_needed = 1, uses_anonymous_args = 0
 2893 06b8 0DC0A0E1 		mov	ip, sp
 2894              	.LCFI10:
 2895              		.cfi_def_cfa_register 12
 2896 06bc 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2897 06c0 04B04CE2 		sub	fp, ip, #4
 2898              		.cfi_offset 14, -8
 2899              		.cfi_offset 13, -12
 2900              		.cfi_offset 11, -16
 2901              	.LCFI11:
 2902              		.cfi_def_cfa 11, 4
 200:../jugada_por_botones.c **** 	ev_timer++;
 2903              		.loc 1 200 0
 2904 06c4 1C309FE5 		ldr	r3, .L48
 2905 06c8 003093E5 		ldr	r3, [r3, #0]
 2906 06cc 012083E2 		add	r2, r3, #1
 2907 06d0 10309FE5 		ldr	r3, .L48
 2908 06d4 002083E5 		str	r2, [r3, #0]
 201:../jugada_por_botones.c **** 	jugada_por_botones();
 2909              		.loc 1 201 0
 2910 06d8 FEFFFFEB 		bl	jugada_por_botones
 202:../jugada_por_botones.c **** }
 2911              		.loc 1 202 0
 2912 06dc 0CD04BE2 		sub	sp, fp, #12
 2913 06e0 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2914 06e4 1EFF2FE1 		bx	lr
 2915              	.L49:
 2916              		.align	2
 2917              	.L48:
 2918 06e8 18000000 		.word	ev_timer
 2919              		.cfi_endproc
 2920              	.LFE5:
 2922              		.align	2
 2923              		.global	termina_DMA
 2925              	termina_DMA:
 2926              	.LFB6:
 203:../jugada_por_botones.c **** 
 204:../jugada_por_botones.c **** //Se llama para avisar al autómata de que la transferencia por DMA ha terminado
 205:../jugada_por_botones.c **** void termina_DMA()
 206:../jugada_por_botones.c **** {
 2927              		.loc 1 206 0
 2928              		.cfi_startproc
 2929              		@ Function supports interworking.
 2930              		@ args = 0, pretend = 0, frame = 0
 2931              		@ frame_needed = 1, uses_anonymous_args = 0
 2932 06ec 0DC0A0E1 		mov	ip, sp
 2933              	.LCFI12:
 2934              		.cfi_def_cfa_register 12
 2935 06f0 00D82DE9 		stmfd	sp!, {fp, ip, lr, pc}
 2936 06f4 04B04CE2 		sub	fp, ip, #4
 2937              		.cfi_offset 14, -8
 2938              		.cfi_offset 13, -12
 2939              		.cfi_offset 11, -16
 2940              	.LCFI13:
 2941              		.cfi_def_cfa 11, 4
 207:../jugada_por_botones.c **** 	haciendo_DMA = 0;
 2942              		.loc 1 207 0
 2943 06f8 14309FE5 		ldr	r3, .L51
 2944 06fc 0020A0E3 		mov	r2, #0
 2945 0700 002083E5 		str	r2, [r3, #0]
 208:../jugada_por_botones.c **** 	jugada_por_botones();
 2946              		.loc 1 208 0
 2947 0704 FEFFFFEB 		bl	jugada_por_botones
 209:../jugada_por_botones.c **** }
 2948              		.loc 1 209 0
 2949 0708 0CD04BE2 		sub	sp, fp, #12
 2950 070c 00689DE8 		ldmfd	sp, {fp, sp, lr}
 2951 0710 1EFF2FE1 		bx	lr
 2952              	.L52:
 2953              		.align	2
 2954              	.L51:
 2955 0714 00000000 		.word	haciendo_DMA
 2956              		.cfi_endproc
 2957              	.LFE6:
 2959              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 jugada_por_botones.c
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2174   .bss:00000000 jugada_botones
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2175   .bss:00000000 $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2177   .bss:00000004 ev_bot_izq
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2180   .bss:00000008 ev_bot_der
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2183   .bss:0000000c ev_tp
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2185   .bss:00000010 mi_fila
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2187   .bss:00000011 mi_columna
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2193   .bss:00000014 haciendo_DMA
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2196   .bss:00000018 ev_timer
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2198   .bss:0000001c fin
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2201   .bss:00000020 tiempo_calc
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2204   .bss:00000024 tiempo_total
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2207   .bss:00000028 tiempo_pv
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2210   .bss:0000002c veces_pv
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2213   .text:00000000 $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2216   .text:00000000 inicializar_jugada_botones
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2296   .text:000000bc $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2312   .text:000000f0 $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2315   .text:000000f0 jugada_por_botones
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2756   .text:00000600 $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2772   .text:00000634 $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2775   .text:00000634 jugada_ev_tsp
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2805   .text:0000065c $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2809   .text:00000660 $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2812   .text:00000660 jugada_ev_der
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2842   .text:00000688 $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2846   .text:0000068c $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2849   .text:0000068c jugada_ev_izq
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2879   .text:000006b4 $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2883   .text:000006b8 $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2886   .text:000006b8 jugada_ev_timer
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2918   .text:000006e8 $d
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2922   .text:000006ec $a
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2925   .text:000006ec termina_DMA
C:\Users\guest\AppData\Local\Temp\ccz4ZKX3.s:2955   .text:00000714 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
reversi8_inicializar
pintar_reglas
pintar_jugando
obtener_ficha_en
mover_gris_abajo
mover_gris_derecha
pintar_profiling
iniciar_DMA
timer2_leer
reversi_procesar
reversi_t_pv
reversi_veces_pv
obtener_fin
contar_blancas
contar_negras
pintar_fin_victoria
pintar_fin_derrota
pintar_fin_empate
